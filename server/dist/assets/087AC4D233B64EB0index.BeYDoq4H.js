/*! 
 Build based on gin-vue-admin 
 Time : 1763897842000 */
import e from"./087AC4D233B64EB0fieldDialog.CiTELHc1.js";import t from"./087AC4D233B64EB0previewCodeDialog.4V1WPa-U.js";import{b as a,c as l,a as o,t as n}from"./087AC4D233B64EB0stringFun.Cp39JE_1.js";import{e as i,l as r,g as d,c as s,a as u,d as c,p,f,h as m}from"./087AC4D233B64EB0autoCode.CC6iJnEQ.js";import{f as v}from"./087AC4D233B64EB0sysDictionary.C2dGagcU.js";import{a as h}from"./087AC4D233B64EB0sysDictionaryDetail.C_IU_8aR.js";import{br as g,a as b,l as y,v as w,al as _,u as D,W as x,g as T,c as E,o as N,f as S,d as C,b as V,h as k,w as A,F as O,H as I,i as M,t as B,q as U,Z as P,E as R,k as j,bs as L}from"./087AC4D233B64EB0index.0P5tyZxh.js";import{_ as X}from"./087AC4D233B64EB0warningBar.C_-K-Zvy.js";const F=g("dictionary",()=>{const e=b({}),t=t=>{e.value={...e.value,...t}},a=(e,t,l)=>0===l?e:t>=l?e.map(e=>({label:e.label,value:e.value,extend:e.extend})):e.map(e=>({label:e.label,value:e.value,extend:e.extend,children:e.children?a(e.children,t+1,l):void 0})),l=e=>{const t=[],a=e=>{e.forEach(e=>{t.push({label:e.label,value:e.value,extend:e.extend}),e.children&&e.children.length>0&&a(e.children)})};return a(e),t},o=e=>e.map(e=>({label:e.label,value:e.value,extend:e.extend,children:e.children&&e.children.length>0?o(e.children):void 0})),n=(e,t,l=1,i=0)=>{for(const r of e){if(r.value===t)return 0===i?r.children?o(r.children):[]:r.children&&r.children.length>0?a(r.children,1,i):[];if(r.children&&r.children.length>0&&(0===i||l<i)){const e=n(r.children,t,l+1,i);if(null!==e)return e}}return null};return{dictionaryMap:e,setDictionaryMap:t,getDictionary:async(i,r=0,d=null)=>{if(null!==d){const a="".concat(i,"_value_").concat(d,"_depth_").concat(r);if(e.value[a]&&e.value[a].length)return e.value[a];try{const o=await h({type:i});if(0===o.code&&o.data&&o.data.list&&o.data.list.length>0){const i=n(o.data.list,d,1,r);if(null!==i){let o;o=0===r?i:l(i);const n={};return n[a]=o,t(n),e.value[a]}return[]}}catch(u){return[]}}const s=0===r?"".concat(i,"_tree"):"".concat(i,"_depth_").concat(r);if(e.value[s]&&e.value[s].length)return e.value[s];try{const n=await h({type:i});if(0===n.code&&n.data&&n.data.list&&n.data.list.length>0){const i=n.data.list;let d;if(0===r)d=o(i);else{const e=a(i,1,r);d=l(e)}const u={};return u[s]=d,t(u),e.value[s]}{const a=await v({type:i});if(0===a.code){const l={},o=[];return a.data.resysDictionary.sysDictionaryDetails&&a.data.resysDictionary.sysDictionaryDetails.forEach(e=>{o.push({label:e.label,value:e.value,extend:e.extend})}),l[s]=o,t(l),e.value[s]}}}catch(u){const a=await v({type:i});if(0===a.code){const l={},o=[];return a.data.resysDictionary.sysDictionaryDetails&&a.data.resysDictionary.sysDictionaryDetails.forEach(e=>{o.push({label:e.label,value:e.value,extend:e.extend})}),l[s]=o,t(l),e.value[s]}}}}});
/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach(function(t){J(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},z.apply(this,arguments)}function H(e,t){if(null==e)return{};var a,l,o=function(e,t){if(null==e)return{};var a,l,o={},n=Object.keys(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function K(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var G=K(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Z=K(/Edge/i),Q=K(/firefox/i),$=K(/safari/i)&&!K(/chrome/i)&&!K(/android/i),ee=K(/iP(ad|od|hone)/i),te=K(/chrome/i)&&K(/android/i),ae={capture:!1,passive:!1};function le(e,t,a){e.addEventListener(t,a,!G&&ae)}function oe(e,t,a){e.removeEventListener(t,a,!G&&ae)}function ne(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(a){return!1}return!1}}function ie(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function re(e,t,a,l){if(e){a=a||document;do{if(null!=t&&(">"===t[0]?e.parentNode===a&&ne(e,t):ne(e,t))||l&&e===a)return e;if(e===a)break}while(e=ie(e))}return null}var de,se=/\s+/g;function ue(e,t,a){if(e&&t)if(e.classList)e.classList[a?"add":"remove"](t);else{var l=(" "+e.className+" ").replace(se," ").replace(" "+t+" "," ");e.className=(l+(a?" "+t:"")).replace(se," ")}}function ce(e,t,a){var l=e&&e.style;if(l){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in l||-1!==t.indexOf("webkit")||(t="-webkit-"+t),l[t]=a+("string"==typeof a?"":"px")}}function pe(e,t){var a="";if("string"==typeof e)a=e;else do{var l=ce(e,"transform");l&&"none"!==l&&(a=l+" "+a)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(a)}function fe(e,t,a){if(e){var l=e.getElementsByTagName(t),o=0,n=l.length;if(a)for(;o<n;o++)a(l[o],o);return l}return[]}function me(){var e=document.scrollingElement;return e||document.documentElement}function ve(e,t,a,l,o){if(e.getBoundingClientRect||e===window){var n,i,r,d,s,u,c;if(e!==window&&e.parentNode&&e!==me()?(i=(n=e.getBoundingClientRect()).top,r=n.left,d=n.bottom,s=n.right,u=n.height,c=n.width):(i=0,r=0,d=window.innerHeight,s=window.innerWidth,u=window.innerHeight,c=window.innerWidth),(t||a)&&e!==window&&(o=o||e.parentNode,!G))do{if(o&&o.getBoundingClientRect&&("none"!==ce(o,"transform")||a&&"static"!==ce(o,"position"))){var p=o.getBoundingClientRect();i-=p.top+parseInt(ce(o,"border-top-width")),r-=p.left+parseInt(ce(o,"border-left-width")),d=i+n.height,s=r+n.width;break}}while(o=o.parentNode);if(l&&e!==window){var f=pe(o||e),m=f&&f.a,v=f&&f.d;f&&(d=(i/=v)+(u/=v),s=(r/=m)+(c/=m))}return{top:i,left:r,bottom:d,right:s,width:c,height:u}}}function he(e,t,a){for(var l=_e(e,!0),o=ve(e)[t];l;){if(!(o>=ve(l)[a]))return l;if(l===me())break;l=_e(l,!1)}return!1}function ge(e,t,a,l){for(var o=0,n=0,i=e.children;n<i.length;){if("none"!==i[n].style.display&&i[n]!==Et.ghost&&(l||i[n]!==Et.dragged)&&re(i[n],a.draggable,e,!1)){if(o===t)return i[n];o++}n++}return null}function be(e,t){for(var a=e.lastElementChild;a&&(a===Et.ghost||"none"===ce(a,"display")||t&&!ne(a,t));)a=a.previousElementSibling;return a||null}function ye(e,t){var a=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Et.clone||t&&!ne(e,t)||a++;return a}function we(e){var t=0,a=0,l=me();if(e)do{var o=pe(e),n=o.a,i=o.d;t+=e.scrollLeft*n,a+=e.scrollTop*i}while(e!==l&&(e=e.parentNode));return[t,a]}function _e(e,t){if(!e||!e.getBoundingClientRect)return me();var a=e,l=!1;do{if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var o=ce(a);if(a.clientWidth<a.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!a.getBoundingClientRect||a===document.body)return me();if(l||t)return a;l=!0}}}while(a=a.parentNode);return me()}function De(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function xe(e,t){return function(){if(!de){var a=arguments;1===a.length?e.call(this,a[0]):e.apply(this,a),de=setTimeout(function(){de=void 0},t)}}}function Te(e,t,a){e.scrollLeft+=t,e.scrollTop+=a}function Ee(e){var t=window.Polymer,a=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):a?a(e).clone(!0)[0]:e.cloneNode(!0)}function Ne(e,t,a){var l={};return Array.from(e.children).forEach(function(o){var n,i,r,d;if(re(o,t.draggable,e,!1)&&!o.animated&&o!==a){var s=ve(o);l.left=Math.min(null!==(n=l.left)&&void 0!==n?n:1/0,s.left),l.top=Math.min(null!==(i=l.top)&&void 0!==i?i:1/0,s.top),l.right=Math.max(null!==(r=l.right)&&void 0!==r?r:-1/0,s.right),l.bottom=Math.max(null!==(d=l.bottom)&&void 0!==d?d:-1/0,s.bottom)}}),l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}var Se="Sortable"+(new Date).getTime();function Ce(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==ce(e,"display")&&e!==Et.ghost){t.push({target:e,rect:ve(e)});var a=W({},t[t.length-1].rect);if(e.thisAnimationDuration){var l=pe(e,!0);l&&(a.top-=l.f,a.left-=l.e)}e.fromRect=a}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var a in e)if(e.hasOwnProperty(a))for(var l in t)if(t.hasOwnProperty(l)&&t[l]===e[a][l])return Number(a);return-1}(t,{target:e}),1)},animateAll:function(a){var l=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof a&&a());var o=!1,n=0;t.forEach(function(e){var t=0,a=e.target,i=a.fromRect,r=ve(a),d=a.prevFromRect,s=a.prevToRect,u=e.rect,c=pe(a,!0);c&&(r.top-=c.f,r.left-=c.e),a.toRect=r,a.thisAnimationDuration&&De(d,r)&&!De(i,r)&&(u.top-r.top)/(u.left-r.left)===(i.top-r.top)/(i.left-r.left)&&(t=function(e,t,a,l){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-a.top,2)+Math.pow(t.left-a.left,2))*l.animation}(u,d,s,l.options)),De(r,i)||(a.prevFromRect=i,a.prevToRect=r,t||(t=l.options.animation),l.animate(a,u,r,t)),t&&(o=!0,n=Math.max(n,t),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},t),a.thisAnimationDuration=t)}),clearTimeout(e),o?e=setTimeout(function(){"function"==typeof a&&a()},n):"function"==typeof a&&a(),t=[]},animate:function(e,t,a,l){if(l){ce(e,"transition",""),ce(e,"transform","");var o=pe(this.el),n=o&&o.a,i=o&&o.d,r=(t.left-a.left)/(n||1),d=(t.top-a.top)/(i||1);e.animatingX=!!r,e.animatingY=!!d,ce(e,"transform","translate3d("+r+"px,"+d+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),ce(e,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),ce(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){ce(e,"transition",""),ce(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},l)}}}}var Ve=[],ke={initializeByDefault:!0},Ae={mount:function(e){for(var t in ke)ke.hasOwnProperty(t)&&!(t in e)&&(e[t]=ke[t]);Ve.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ve.push(e)},pluginEvent:function(e,t,a){var l=this;this.eventCanceled=!1,a.cancel=function(){l.eventCanceled=!0};var o=e+"Global";Ve.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][o]&&t[l.pluginName][o](W({sortable:t},a)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](W({sortable:t},a)))})},initializePlugins:function(e,t,a,l){for(var o in Ve.forEach(function(l){var o=l.pluginName;if(e.options[o]||l.initializeByDefault){var n=new l(e,t,e.options);n.sortable=e,n.options=e.options,e[o]=n,z(a,n.defaults)}}),e.options)if(e.options.hasOwnProperty(o)){var n=this.modifyOption(e,o,e.options[o]);void 0!==n&&(e.options[o]=n)}},getEventProperties:function(e,t){var a={};return Ve.forEach(function(l){"function"==typeof l.eventProperties&&z(a,l.eventProperties.call(t[l.pluginName],e))}),a},modifyOption:function(e,t,a){var l;return Ve.forEach(function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(l=o.optionListeners[t].call(e[o.pluginName],a))}),l}};var Oe=["evt"],Ie=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=a.evt,o=H(a,Oe);Ae.pluginEvent.bind(Et)(e,t,W({dragEl:Be,parentEl:Ue,ghostEl:Pe,rootEl:Re,nextEl:je,lastDownEl:Le,cloneEl:Xe,cloneHidden:Fe,dragStarted:tt,putSortable:He,activeSortable:Et.active,originalEvent:l,oldIndex:Ye,oldDraggableIndex:qe,newIndex:We,newDraggableIndex:Je,hideGhostForTarget:_t,unhideGhostForTarget:Dt,cloneNowHidden:function(){Fe=!0},cloneNowShown:function(){Fe=!1},dispatchSortableEvent:function(e){Me({sortable:t,name:e,originalEvent:l})}},o))};function Me(e){!function(e){var t=e.sortable,a=e.rootEl,l=e.name,o=e.targetEl,n=e.cloneEl,i=e.toEl,r=e.fromEl,d=e.oldIndex,s=e.newIndex,u=e.oldDraggableIndex,c=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,m=e.extraEventProperties;if(t=t||a&&a[Se]){var v,h=t.options,g="on"+l.charAt(0).toUpperCase()+l.substr(1);!window.CustomEvent||G||Z?(v=document.createEvent("Event")).initEvent(l,!0,!0):v=new CustomEvent(l,{bubbles:!0,cancelable:!0}),v.to=i||a,v.from=r||a,v.item=o||a,v.clone=n,v.oldIndex=d,v.newIndex=s,v.oldDraggableIndex=u,v.newDraggableIndex=c,v.originalEvent=p,v.pullMode=f?f.lastPutMode:void 0;var b=W(W({},m),Ae.getEventProperties(l,t));for(var y in b)v[y]=b[y];a&&a.dispatchEvent(v),h[g]&&h[g].call(t,v)}}(W({putSortable:He,cloneEl:Xe,targetEl:Be,rootEl:Re,oldIndex:Ye,oldDraggableIndex:qe,newIndex:We,newDraggableIndex:Je},e))}var Be,Ue,Pe,Re,je,Le,Xe,Fe,Ye,We,qe,Je,ze,He,Ke,Ge,Ze,Qe,$e,et,tt,at,lt,ot,nt,it=!1,rt=!1,dt=[],st=!1,ut=!1,ct=[],pt=!1,ft=[],mt="undefined"!=typeof document,vt=ee,ht=Z||G?"cssFloat":"float",gt=mt&&!te&&!ee&&"draggable"in document.createElement("div"),bt=function(){if(mt){if(G)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),yt=function(e,t){var a=ce(e),l=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),o=ge(e,0,t),n=ge(e,1,t),i=o&&ce(o),r=n&&ce(n),d=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ve(o).width,s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+ve(n).width;if("flex"===a.display)return"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal";if("grid"===a.display)return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&i.float&&"none"!==i.float){var u="left"===i.float?"left":"right";return!n||"both"!==r.clear&&r.clear!==u?"horizontal":"vertical"}return o&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||d>=l&&"none"===a[ht]||n&&"none"===a[ht]&&d+s>l)?"vertical":"horizontal"},wt=function(e){function t(e,a){return function(l,o,n,i){var r=l.options.group.name&&o.options.group.name&&l.options.group.name===o.options.group.name;if(null==e&&(a||r))return!0;if(null==e||!1===e)return!1;if(a&&"clone"===e)return e;if("function"==typeof e)return t(e(l,o,n,i),a)(l,o,n,i);var d=(a?l:o).options.group.name;return!0===e||"string"==typeof e&&e===d||e.join&&e.indexOf(d)>-1}}var a={},l=e.group;l&&"object"==q(l)||(l={name:l}),a.name=l.name,a.checkPull=t(l.pull,!0),a.checkPut=t(l.put),a.revertClone=l.revertClone,e.group=a},_t=function(){!bt&&Pe&&ce(Pe,"display","none")},Dt=function(){!bt&&Pe&&ce(Pe,"display","")};mt&&!te&&document.addEventListener("click",function(e){if(rt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),rt=!1,!1},!0);var xt=function(e){if(Be){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,n=e.clientY,dt.some(function(e){var t=e[Se].options.emptyInsertThreshold;if(t&&!be(e)){var a=ve(e),l=o>=a.left-t&&o<=a.right+t,r=n>=a.top-t&&n<=a.bottom+t;return l&&r?i=e:void 0}}),i);if(t){var a={};for(var l in e)e.hasOwnProperty(l)&&(a[l]=e[l]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[Se]._onDragOver(a)}}var o,n,i},Tt=function(e){Be&&Be.parentNode[Se]._isOutsideThisEl(e.target)};function Et(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=z({},t),e[Se]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Et.supportPointer&&"PointerEvent"in window&&(!$||ee),emptyInsertThreshold:5};for(var l in Ae.initializePlugins(this,e,a),a)!(l in t)&&(t[l]=a[l]);for(var o in wt(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&gt,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?le(e,"pointerdown",this._onTapStart):(le(e,"mousedown",this._onTapStart),le(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(le(e,"dragover",this),le(e,"dragenter",this)),dt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),z(this,Ce())}function Nt(e,t,a,l,o,n,i,r){var d,s,u=e[Se],c=u.options.onMove;return!window.CustomEvent||G||Z?(d=document.createEvent("Event")).initEvent("move",!0,!0):d=new CustomEvent("move",{bubbles:!0,cancelable:!0}),d.to=t,d.from=e,d.dragged=a,d.draggedRect=l,d.related=o||t,d.relatedRect=n||ve(t),d.willInsertAfter=r,d.originalEvent=i,e.dispatchEvent(d),c&&(s=c.call(u,d,i)),s}function St(e){e.draggable=!1}function Ct(){pt=!1}function Vt(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,l=0;a--;)l+=t.charCodeAt(a);return l.toString(36)}function kt(e){return setTimeout(e,0)}function At(e){return clearTimeout(e)}Et.prototype={constructor:Et,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(at=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Be):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,l=this.options,o=l.preventOnFilter,n=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(i||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,s=l.filter;if(function(e){ft.length=0;var t=e.getElementsByTagName("input"),a=t.length;for(;a--;){var l=t[a];l.checked&&ft.push(l)}}(a),!Be&&!(/mousedown|pointerdown/.test(n)&&0!==e.button||l.disabled)&&!d.isContentEditable&&(this.nativeDraggable||!$||!r||"SELECT"!==r.tagName.toUpperCase())&&!((r=re(r,l.draggable,a,!1))&&r.animated||Le===r)){if(Ye=ye(r),qe=ye(r,l.draggable),"function"==typeof s){if(s.call(this,e,r,this))return Me({sortable:t,rootEl:d,name:"filter",targetEl:r,toEl:a,fromEl:a}),Ie("filter",t,{evt:e}),void(o&&e.preventDefault())}else if(s&&(s=s.split(",").some(function(l){if(l=re(d,l.trim(),a,!1))return Me({sortable:t,rootEl:l,name:"filter",targetEl:r,fromEl:a,toEl:a}),Ie("filter",t,{evt:e}),!0})))return void(o&&e.preventDefault());l.handle&&!re(d,l.handle,a,!1)||this._prepareDragStart(e,i,r)}}},_prepareDragStart:function(e,t,a){var l,o=this,n=o.el,i=o.options,r=n.ownerDocument;if(a&&!Be&&a.parentNode===n){var d=ve(a);if(Re=n,Ue=(Be=a).parentNode,je=Be.nextSibling,Le=a,ze=i.group,Et.dragged=Be,Ke={target:Be,clientX:(t||e).clientX,clientY:(t||e).clientY},$e=Ke.clientX-d.left,et=Ke.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Be.style["will-change"]="all",l=function(){Ie("delayEnded",o,{evt:e}),Et.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!Q&&o.nativeDraggable&&(Be.draggable=!0),o._triggerDragStart(e,t),Me({sortable:o,name:"choose",originalEvent:e}),ue(Be,i.chosenClass,!0))},i.ignore.split(",").forEach(function(e){fe(Be,e.trim(),St)}),le(r,"dragover",xt),le(r,"mousemove",xt),le(r,"touchmove",xt),i.supportPointer?(le(r,"pointerup",o._onDrop),!this.nativeDraggable&&le(r,"pointercancel",o._onDrop)):(le(r,"mouseup",o._onDrop),le(r,"touchend",o._onDrop),le(r,"touchcancel",o._onDrop)),Q&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Be.draggable=!0),Ie("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(Z||G))l();else{if(Et.eventCanceled)return void this._onDrop();i.supportPointer?(le(r,"pointerup",o._disableDelayedDrag),le(r,"pointercancel",o._disableDelayedDrag)):(le(r,"mouseup",o._disableDelayedDrag),le(r,"touchend",o._disableDelayedDrag),le(r,"touchcancel",o._disableDelayedDrag)),le(r,"mousemove",o._delayedDragTouchMoveHandler),le(r,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&le(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Be&&St(Be),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;oe(e,"mouseup",this._disableDelayedDrag),oe(e,"touchend",this._disableDelayedDrag),oe(e,"touchcancel",this._disableDelayedDrag),oe(e,"pointerup",this._disableDelayedDrag),oe(e,"pointercancel",this._disableDelayedDrag),oe(e,"mousemove",this._delayedDragTouchMoveHandler),oe(e,"touchmove",this._delayedDragTouchMoveHandler),oe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?le(document,"pointermove",this._onTouchMove):le(document,t?"touchmove":"mousemove",this._onTouchMove):(le(Be,"dragend",this),le(Re,"dragstart",this._onDragStart));try{document.selection?kt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(e,t){if(it=!1,Re&&Be){Ie("dragStarted",this,{evt:t}),this.nativeDraggable&&le(document,"dragover",Tt);var a=this.options;!e&&ue(Be,a.dragClass,!1),ue(Be,a.ghostClass,!0),Et.active=this,e&&this._appendGhost(),Me({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ge){this._lastX=Ge.clientX,this._lastY=Ge.clientY,_t();for(var e=document.elementFromPoint(Ge.clientX,Ge.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ge.clientX,Ge.clientY))!==t;)t=e;if(Be.parentNode[Se]._isOutsideThisEl(e),t)do{if(t[Se]){if(t[Se]._onDragOver({clientX:Ge.clientX,clientY:Ge.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=ie(t));Dt()}},_onTouchMove:function(e){if(Ke){var t=this.options,a=t.fallbackTolerance,l=t.fallbackOffset,o=e.touches?e.touches[0]:e,n=Pe&&pe(Pe,!0),i=Pe&&n&&n.a,r=Pe&&n&&n.d,d=vt&&nt&&we(nt),s=(o.clientX-Ke.clientX+l.x)/(i||1)+(d?d[0]-ct[0]:0)/(i||1),u=(o.clientY-Ke.clientY+l.y)/(r||1)+(d?d[1]-ct[1]:0)/(r||1);if(!Et.active&&!it){if(a&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(Pe){n?(n.e+=s-(Ze||0),n.f+=u-(Qe||0)):n={a:1,b:0,c:0,d:1,e:s,f:u};var c="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");ce(Pe,"webkitTransform",c),ce(Pe,"mozTransform",c),ce(Pe,"msTransform",c),ce(Pe,"transform",c),Ze=s,Qe=u,Ge=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Pe){var e=this.options.fallbackOnBody?document.body:Re,t=ve(Be,!0,vt,!0,e),a=this.options;if(vt){for(nt=e;"static"===ce(nt,"position")&&"none"===ce(nt,"transform")&&nt!==document;)nt=nt.parentNode;nt!==document.body&&nt!==document.documentElement?(nt===document&&(nt=me()),t.top+=nt.scrollTop,t.left+=nt.scrollLeft):nt=me(),ct=we(nt)}ue(Pe=Be.cloneNode(!0),a.ghostClass,!1),ue(Pe,a.fallbackClass,!0),ue(Pe,a.dragClass,!0),ce(Pe,"transition",""),ce(Pe,"transform",""),ce(Pe,"box-sizing","border-box"),ce(Pe,"margin",0),ce(Pe,"top",t.top),ce(Pe,"left",t.left),ce(Pe,"width",t.width),ce(Pe,"height",t.height),ce(Pe,"opacity","0.8"),ce(Pe,"position",vt?"absolute":"fixed"),ce(Pe,"zIndex","100000"),ce(Pe,"pointerEvents","none"),Et.ghost=Pe,e.appendChild(Pe),ce(Pe,"transform-origin",$e/parseInt(Pe.style.width)*100+"% "+et/parseInt(Pe.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,l=e.dataTransfer,o=a.options;Ie("dragStart",this,{evt:e}),Et.eventCanceled?this._onDrop():(Ie("setupClone",this),Et.eventCanceled||((Xe=Ee(Be)).removeAttribute("id"),Xe.draggable=!1,Xe.style["will-change"]="",this._hideClone(),ue(Xe,this.options.chosenClass,!1),Et.clone=Xe),a.cloneId=kt(function(){Ie("clone",a),Et.eventCanceled||(a.options.removeCloneOnHide||Re.insertBefore(Xe,Be),a._hideClone(),Me({sortable:a,name:"clone"}))}),!t&&ue(Be,o.dragClass,!0),t?(rt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(oe(document,"mouseup",a._onDrop),oe(document,"touchend",a._onDrop),oe(document,"touchcancel",a._onDrop),l&&(l.effectAllowed="move",o.setData&&o.setData.call(a,l,Be)),le(document,"drop",a),ce(Be,"transform","translateZ(0)")),it=!0,a._dragStartId=kt(a._dragStarted.bind(a,t,e)),le(document,"selectstart",a),tt=!0,window.getSelection().removeAllRanges(),$&&ce(document.body,"user-select","none"))},_onDragOver:function(e){var t,a,l,o,n=this.el,i=e.target,r=this.options,d=r.group,s=Et.active,u=ze===d,c=r.sort,p=He||s,f=this,m=!1;if(!pt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=re(i,r.draggable,n,!0),V("dragOver"),Et.eventCanceled)return m;if(Be.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||f._ignoreWhileAnimating===i)return A(!1);if(rt=!1,s&&!r.disabled&&(u?c||(l=Ue!==Re):He===this||(this.lastPutMode=ze.checkPull(this,s,Be,e))&&d.checkPut(this,s,Be,e))){if(o="vertical"===this._getDirection(e,i),t=ve(Be),V("dragOverValid"),Et.eventCanceled)return m;if(l)return Ue=Re,k(),this._hideClone(),V("revert"),Et.eventCanceled||(je?Re.insertBefore(Be,je):Re.appendChild(Be)),A(!0);var v=be(n,r.draggable);if(!v||function(e,t,a){var l=ve(be(a.el,a.options.draggable)),o=Ne(a.el,a.options,Pe),n=10;return t?e.clientX>o.right+n||e.clientY>l.bottom&&e.clientX>l.left:e.clientY>o.bottom+n||e.clientX>l.right&&e.clientY>l.top}(e,o,this)&&!v.animated){if(v===Be)return A(!1);if(v&&n===e.target&&(i=v),i&&(a=ve(i)),!1!==Nt(Re,n,Be,t,i,a,e,!!i))return k(),v&&v.nextSibling?n.insertBefore(Be,v.nextSibling):n.appendChild(Be),Ue=n,O(),A(!0)}else if(v&&function(e,t,a){var l=ve(ge(a.el,0,a.options,!0)),o=Ne(a.el,a.options,Pe),n=10;return t?e.clientX<o.left-n||e.clientY<l.top&&e.clientX<l.right:e.clientY<o.top-n||e.clientY<l.bottom&&e.clientX<l.left}(e,o,this)){var h=ge(n,0,r,!0);if(h===Be)return A(!1);if(a=ve(i=h),!1!==Nt(Re,n,Be,t,i,a,e,!1))return k(),n.insertBefore(Be,h),Ue=n,O(),A(!0)}else if(i.parentNode===n){a=ve(i);var g,b,y,w=Be.parentNode!==n,_=!function(e,t,a){var l=a?e.left:e.top,o=a?e.right:e.bottom,n=a?e.width:e.height,i=a?t.left:t.top,r=a?t.right:t.bottom,d=a?t.width:t.height;return l===i||o===r||l+n/2===i+d/2}(Be.animated&&Be.toRect||t,i.animated&&i.toRect||a,o),D=o?"top":"left",x=he(i,"top","top")||he(Be,"top","top"),T=x?x.scrollTop:void 0;if(at!==i&&(b=a[D],st=!1,ut=!_&&r.invertSwap||w),g=function(e,t,a,l,o,n,i,r){var d=l?e.clientY:e.clientX,s=l?a.height:a.width,u=l?a.top:a.left,c=l?a.bottom:a.right,p=!1;if(!i)if(r&&ot<s*o){if(!st&&(1===lt?d>u+s*n/2:d<c-s*n/2)&&(st=!0),st)p=!0;else if(1===lt?d<u+ot:d>c-ot)return-lt}else if(d>u+s*(1-o)/2&&d<c-s*(1-o)/2)return function(e){return ye(Be)<ye(e)?1:-1}(t);if((p=p||i)&&(d<u+s*n/2||d>c-s*n/2))return d>u+s/2?1:-1;return 0}(e,i,a,o,_?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,ut,at===i),0!==g){var E=ye(Be);do{E-=g,y=Ue.children[E]}while(y&&("none"===ce(y,"display")||y===Pe))}if(0===g||y===i)return A(!1);at=i,lt=g;var N=i.nextElementSibling,S=!1,C=Nt(Re,n,Be,t,i,a,e,S=1===g);if(!1!==C)return 1!==C&&-1!==C||(S=1===C),pt=!0,setTimeout(Ct,30),k(),S&&!N?n.appendChild(Be):i.parentNode.insertBefore(Be,S?N:i),x&&Te(x,0,T-x.scrollTop),Ue=Be.parentNode,void 0===b||ut||(ot=Math.abs(b-ve(i)[D])),O(),A(!0)}if(n.contains(Be))return A(!1)}return!1}function V(r,d){Ie(r,f,W({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:l,dragRect:t,targetRect:a,canSort:c,fromSortable:p,target:i,completed:A,onMove:function(a,l){return Nt(Re,n,Be,t,a,ve(a),e,l)},changed:O},d))}function k(){V("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function A(t){return V("dragOverCompleted",{insertion:t}),t&&(u?s._hideClone():s._showClone(f),f!==p&&(ue(Be,He?He.options.ghostClass:s.options.ghostClass,!1),ue(Be,r.ghostClass,!0)),He!==f&&f!==Et.active?He=f:f===Et.active&&He&&(He=null),p===f&&(f._ignoreWhileAnimating=i),f.animateAll(function(){V("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===Be&&!Be.animated||i===n&&!i.animated)&&(at=null),r.dragoverBubble||e.rootEl||i===document||(Be.parentNode[Se]._isOutsideThisEl(e.target),!t&&xt(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function O(){We=ye(Be),Je=ye(Be,r.draggable),Me({sortable:f,name:"change",toEl:n,newIndex:We,newDraggableIndex:Je,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){oe(document,"mousemove",this._onTouchMove),oe(document,"touchmove",this._onTouchMove),oe(document,"pointermove",this._onTouchMove),oe(document,"dragover",xt),oe(document,"mousemove",xt),oe(document,"touchmove",xt)},_offUpEvents:function(){var e=this.el.ownerDocument;oe(e,"mouseup",this._onDrop),oe(e,"touchend",this._onDrop),oe(e,"pointerup",this._onDrop),oe(e,"pointercancel",this._onDrop),oe(e,"touchcancel",this._onDrop),oe(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;We=ye(Be),Je=ye(Be,a.draggable),Ie("drop",this,{evt:e}),Ue=Be&&Be.parentNode,We=ye(Be),Je=ye(Be,a.draggable),Et.eventCanceled||(it=!1,ut=!1,st=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),At(this.cloneId),At(this._dragStartId),this.nativeDraggable&&(oe(document,"drop",this),oe(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$&&ce(document.body,"user-select",""),ce(Be,"transform",""),e&&(tt&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),Pe&&Pe.parentNode&&Pe.parentNode.removeChild(Pe),(Re===Ue||He&&"clone"!==He.lastPutMode)&&Xe&&Xe.parentNode&&Xe.parentNode.removeChild(Xe),Be&&(this.nativeDraggable&&oe(Be,"dragend",this),St(Be),Be.style["will-change"]="",tt&&!it&&ue(Be,He?He.options.ghostClass:this.options.ghostClass,!1),ue(Be,this.options.chosenClass,!1),Me({sortable:this,name:"unchoose",toEl:Ue,newIndex:null,newDraggableIndex:null,originalEvent:e}),Re!==Ue?(We>=0&&(Me({rootEl:Ue,name:"add",toEl:Ue,fromEl:Re,originalEvent:e}),Me({sortable:this,name:"remove",toEl:Ue,originalEvent:e}),Me({rootEl:Ue,name:"sort",toEl:Ue,fromEl:Re,originalEvent:e}),Me({sortable:this,name:"sort",toEl:Ue,originalEvent:e})),He&&He.save()):We!==Ye&&We>=0&&(Me({sortable:this,name:"update",toEl:Ue,originalEvent:e}),Me({sortable:this,name:"sort",toEl:Ue,originalEvent:e})),Et.active&&(null!=We&&-1!==We||(We=Ye,Je=qe),Me({sortable:this,name:"end",toEl:Ue,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Ie("nulling",this),Re=Be=Ue=Pe=je=Xe=Le=Fe=Ke=Ge=tt=We=Je=Ye=qe=at=lt=He=ze=Et.dragged=Et.ghost=Et.clone=Et.active=null,ft.forEach(function(e){e.checked=!0}),ft.length=Ze=Qe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Be&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],a=this.el.children,l=0,o=a.length,n=this.options;l<o;l++)re(e=a[l],n.draggable,this.el,!1)&&t.push(e.getAttribute(n.dataIdAttr)||Vt(e));return t},sort:function(e,t){var a={},l=this.el;this.toArray().forEach(function(e,t){var o=l.children[t];re(o,this.options.draggable,l,!1)&&(a[e]=o)},this),t&&this.captureAnimationState(),e.forEach(function(e){a[e]&&(l.removeChild(a[e]),l.appendChild(a[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return re(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(void 0===t)return a[e];var l=Ae.modifyOption(this,e,t);a[e]=void 0!==l?l:t,"group"===e&&wt(a)},destroy:function(){Ie("destroy",this);var e=this.el;e[Se]=null,oe(e,"mousedown",this._onTapStart),oe(e,"touchstart",this._onTapStart),oe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(oe(e,"dragover",this),oe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dt.splice(dt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Fe){if(Ie("hideClone",this),Et.eventCanceled)return;ce(Xe,"display","none"),this.options.removeCloneOnHide&&Xe.parentNode&&Xe.parentNode.removeChild(Xe),Fe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Fe){if(Ie("showClone",this),Et.eventCanceled)return;Be.parentNode!=Re||this.options.group.revertClone?je?Re.insertBefore(Xe,je):Re.appendChild(Xe):Re.insertBefore(Xe,Be),this.options.group.revertClone&&this.animate(Be,Xe),ce(Xe,"display",""),Fe=!1}}else this._hideClone()}},mt&&le(document,"touchmove",function(e){(Et.active||it)&&e.cancelable&&e.preventDefault()}),Et.utils={on:le,off:oe,css:ce,find:fe,is:function(e,t){return!!re(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},throttle:xe,closest:re,toggleClass:ue,clone:Ee,index:ye,nextTick:kt,cancelNextTick:At,detectDirection:yt,getChild:ge,expando:Se},Et.get=function(e){return e[Se]},Et.mount=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Et.utils=W(W({},Et.utils),e.utils)),Ae.mount(e)})},Et.create=function(e,t){return new Et(e,t)},Et.version="1.15.6";var Ot,It,Mt,Bt,Ut,Pt,Rt=[],jt=!1;function Lt(){Rt.forEach(function(e){clearInterval(e.pid)}),Rt=[]}function Xt(){clearInterval(Pt)}var Ft=xe(function(e,t,a,l){if(t.scroll){var o,n=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,d=t.scrollSpeed,s=me(),u=!1;It!==a&&(It=a,Lt(),Ot=t.scroll,o=t.scrollFn,!0===Ot&&(Ot=_e(a,!0)));var c=0,p=Ot;do{var f=p,m=ve(f),v=m.top,h=m.bottom,g=m.left,b=m.right,y=m.width,w=m.height,_=void 0,D=void 0,x=f.scrollWidth,T=f.scrollHeight,E=ce(f),N=f.scrollLeft,S=f.scrollTop;f===s?(_=y<x&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),D=w<T&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(_=y<x&&("auto"===E.overflowX||"scroll"===E.overflowX),D=w<T&&("auto"===E.overflowY||"scroll"===E.overflowY));var C=_&&(Math.abs(b-n)<=r&&N+y<x)-(Math.abs(g-n)<=r&&!!N),V=D&&(Math.abs(h-i)<=r&&S+w<T)-(Math.abs(v-i)<=r&&!!S);if(!Rt[c])for(var k=0;k<=c;k++)Rt[k]||(Rt[k]={});Rt[c].vx==C&&Rt[c].vy==V&&Rt[c].el===f||(Rt[c].el=f,Rt[c].vx=C,Rt[c].vy=V,clearInterval(Rt[c].pid),0==C&&0==V||(u=!0,Rt[c].pid=setInterval(function(){l&&0===this.layer&&Et.active._onTouchMove(Ut);var t=Rt[this.layer].vy?Rt[this.layer].vy*d:0,a=Rt[this.layer].vx?Rt[this.layer].vx*d:0;"function"==typeof o&&"continue"!==o.call(Et.dragged.parentNode[Se],a,t,e,Ut,Rt[this.layer].el)||Te(Rt[this.layer].el,a,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&p!==s&&(p=_e(p,!1)));jt=u}},30),Yt=function(e){var t=e.originalEvent,a=e.putSortable,l=e.dragEl,o=e.activeSortable,n=e.dispatchSortableEvent,i=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(t){var d=a||o;i();var s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(s.clientX,s.clientY);r(),d&&!d.el.contains(u)&&(n("spill"),this.onSpill({dragEl:l,putSortable:a}))}};function Wt(){}function qt(){}Wt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var l=ge(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(t,l):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:Yt},z(Wt,{pluginName:"revertOnSpill"}),qt.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:Yt},z(qt,{pluginName:"removeOnSpill"}),Et.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?le(document,"dragover",this._handleAutoScroll):this.options.supportPointer?le(document,"pointermove",this._handleFallbackAutoScroll):t.touches?le(document,"touchmove",this._handleFallbackAutoScroll):le(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?oe(document,"dragover",this._handleAutoScroll):(oe(document,"pointermove",this._handleFallbackAutoScroll),oe(document,"touchmove",this._handleFallbackAutoScroll),oe(document,"mousemove",this._handleFallbackAutoScroll)),Xt(),Lt(),clearTimeout(de),de=void 0},nulling:function(){Ut=It=Ot=jt=Pt=Mt=Bt=null,Rt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var a=this,l=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,n=document.elementFromPoint(l,o);if(Ut=e,t||this.options.forceAutoScrollFallback||Z||G||$){Ft(e,this.options,n,t);var i=_e(n,!0);!jt||Pt&&l===Mt&&o===Bt||(Pt&&Xt(),Pt=setInterval(function(){var n=_e(document.elementFromPoint(l,o),!0);n!==i&&(i=n,Lt()),Ft(e,a.options,n,t)},10),Mt=l,Bt=o)}else{if(!this.options.bubbleScroll||_e(n,!0)===me())return void Lt();Ft(e,this.options,_e(n,!1),!1)}}},z(e,{pluginName:"scroll",initializeByDefault:!0})}),Et.mount(qt,Wt);const Jt={key:0,class:"gva-search-box"},zt={class:"relative"},Ht={class:"flex absolute right-28 bottom-2"},Kt={class:"flex absolute right-2 bottom-2"},Gt={key:1,class:"gva-search-box"},Zt={style:{float:"right",color:"#8492a6","font-size":"13px"}},Qt={class:"flex justify-end w-full"},$t={class:"gva-search-box"},ea={class:"flex gap-2 w-full"},ta={class:"absolute right-0"},aa={style:{float:"right",color:"#8492a6","font-size":"13px"}},la={class:"gva-search-box"},oa={class:"text-lg ml-auto mr-4 font-normal"},na={class:"p-4"},ia={class:"border-b border-gray-200 last:border-0"},ra={class:"border-b border-gray-200 last:border-0"},da={class:"border-b border-gray-200 last:border-0"},sa={class:"last:pb-0"},ua={class:"flex items-center gap-4"},ca={class:"gva-table-box"},pa={class:"gva-btn-list"},fa={class:"draggable"},ma={class:"gva-btn-list justify-end mt-4"},va={class:"flex justify-between items-center"},ha={class:"flex justify-between items-center"},ga=Object.assign({name:"AutoCode"},{__name:"index",setup(v){const h=y().token,g=()=>{document.addEventListener("keydown",W),document.addEventListener("paste",q)},Y=()=>{document.removeEventListener("keydown",W),document.removeEventListener("paste",q)},W=e=>{(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&H()},q=e=>{const t=e.clipboardData.items;for(let a=0;a<t.length;a++)if(-1!==t[a].type.indexOf("image")){const e=t[a].getAsFile(),l=new FileReader;l.onload=async e=>{const t=e.target.result,a=await i({picture:t,command:"eye"});0===a.code&&(z.value=a.data,H())},l.readAsDataURL(e)}},J=()=>{let e="";for(;e.length<16;)e+=Math.random().toString(16).substring(2);return e.substring(0,16)},z=b(""),H=async e=>{var t;if(e&&!se.value.structName)return void R.error("请输入结构体名称");if(!e&&!z.value)return void R.error("请输入描述");if(se.value.fields.length>0){if("confirm"!==await j.confirm("AI生成会清空当前数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}))return}const l=await r({prompt:e?"结构体名称为"+se.value.structName:z.value});if(0===l.code){se.value.fields=[];const e=JSON.parse(l.data);null==(t=e.fields)||t.forEach(e=>{e.fieldName=a(e.fieldName)});for(let t in e)se.value[t]=e[t];se.value.generateServer=!0,se.value.generateWeb=!0}},K=b(!1);w(()=>{(()=>{const e=document.querySelector(".draggable .el-table__body-wrapper tbody");Et.create(e,{draggable:".draggable .el-table__row",handle:".drag-column",onEnd:async({newIndex:e,oldIndex:t})=>{await P();const a=se.value.fields.splice(t,1)[0];se.value.fields.splice(e,0,a)}})})()});const G=["id","created_at","updated_at","deleted_at"],Z=["created_by","updated_by","deleted_by"],Q=b([{label:"字符串",value:"string"},{label:"富文本",value:"richtext"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"},{label:"单图片（字符串）",value:"picture"},{label:"多图片（json字符串）",value:"pictures"},{label:"视频（字符串）",value:"video"},{label:"文件（json字符串）",value:"file"},{label:"JSON",value:"json"},{label:"数组",value:"array"}]),$=b([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]),ee=b([{label:"index",value:"index"},{label:"uniqueIndex",value:"uniqueIndex"}]),te={fieldName:"",fieldDesc:"",fieldType:"",dataType:"",fieldJson:"",columnName:"",dataTypeLong:"",comment:"",defaultValue:"",require:!1,sort:!1,form:!0,desc:!0,table:!0,excel:!1,errorText:"",primaryKey:!1,clearable:!0,fieldSearchType:"",fieldIndexType:"",dictType:"",dataSource:{dbName:"",association:1,table:"",label:"",value:"",hasDeletedAt:!1}},ae=_(),le=D(),oe=b({}),ne=b({businessDB:"",dbName:"",tableName:""}),ie=b([]),re=b(""),de=b({}),se=b({structName:"",tableName:"",packageName:"",package:"",abbreviation:"",description:"",businessDB:"",autoCreateApiToSql:!0,autoCreateMenuToSql:!0,autoCreateBtnAuth:!1,autoMigrate:!0,gvaModel:!0,autoCreateResource:!1,onlyTemplate:!1,isTree:!1,generateWeb:!0,generateServer:!0,treeJson:"",fields:[]}),ue=b({structName:[{required:!0,message:"请输入结构体名称",trigger:"blur"}],abbreviation:[{required:!0,message:"请输入结构体简称",trigger:"blur"}],description:[{required:!0,message:"请输入结构体描述",trigger:"blur"}],packageName:[{required:!0,message:"文件名称：sysXxxxXxxx",trigger:"blur"}],package:[{required:!0,message:"请选择package",trigger:"blur"}]}),ce=b({}),pe=b({}),fe=b(!1),me=b(!1),ve=e=>{e&&se.value.fields.length&&j.confirm("如果您开启GVA默认结构，会自动添加ID,CreatedAt,UpdatedAt,DeletedAt字段，此行为将自动清除您目前在下方创建的重名字段，是否继续？","注意",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(()=>{se.value.fields=se.value.fields.filter(e=>!G.some(t=>t===e.columnName))}).catch(()=>{se.value.gvaModel=!1})},he=b(null),ge=()=>{he.value.selectText()},be=()=>{he.value.copy()},ye=e=>{fe.value=!0,e?(re.value="edit",e.dataSource||(e.dataSource={dbName:"",association:1,table:"",label:"",value:"",hasDeletedAt:!1}),pe.value=JSON.parse(JSON.stringify(e)),ce.value=e):(re.value="add",te.onlyNumber=J(),ce.value=JSON.parse(JSON.stringify(te)))},we=b(null),_e=()=>{we.value.fieldDialogForm.validate(e=>{if(!e)return!1;ce.value.fieldName=a(ce.value.fieldName),"add"===re.value&&se.value.fields.push(ce.value),fe.value=!1})},De=()=>{"edit"===re.value&&(ce.value=pe.value),fe.value=!1},xe=b(null),Te=async e=>{if(se.value.isTree&&!se.value.treeJson)return R({type:"error",message:"请填写树型结构的前端展示json属性"}),!1;if(!se.value.generateWeb&&!se.value.generateServer)return R({type:"error",message:"请至少选择一个生成项"}),!1;if(!se.value.onlyTemplate){if(se.value.fields.length<=0)return R({type:"error",message:"请填写至少一个field"}),!1;if(!se.value.gvaModel&&se.value.fields.every(e=>!e.primaryKey))return R({type:"error",message:"您至少需要创建一个主键才能保证自动化代码的可行性"}),!1;if(se.value.fields.some(e=>e.fieldName===se.value.structName))return R({type:"error",message:"存在与结构体同名的字段"}),!1;if(se.value.fields.some(e=>e.fieldJson===se.value.package))return R({type:"error",message:"存在与模板同名的的字段JSON"}),!1;if(se.value.fields.some(e=>!e.fieldType))return R({type:"error",message:"请填写所有字段类型后进行提交"}),!1;if(se.value.package===se.value.abbreviation)return R({type:"error",message:"package和结构体简称不可同名"}),!1}xe.value.validate(async t=>{var l;if(t){for(const e in se.value)"string"==typeof se.value[e]&&(se.value[e]=se.value[e].trim());if(se.value.structName=a(se.value.structName),se.value.tableName=se.value.tableName.replace(" ",""),se.value.tableName||(se.value.tableName=n(o(se.value.structName))),se.value.structName===se.value.abbreviation)return R({type:"error",message:"structName和struct简称不能相同"}),!1;if(se.value.humpPackageName=n(se.value.packageName),null==(l=se.value.fields)||l.forEach(e=>{if(e.fieldName=a(e.fieldName),"enum"===e.fieldType){e.dataTypeLong=e.dataTypeLong.replace(/[\[\]{}()]/g,"");const t=e.dataTypeLong.split(",");t.forEach((e,a)=>{-1===e.indexOf("'")&&(t[a]="'".concat(e,"'"))}),e.dataTypeLong=t.join(",")}}),delete se.value.primaryField,e){const e=await p({...se.value,isAdd:!!K.value,fields:se.value.fields.filter(e=>!e.disabled)});if(0!==e.code)return;oe.value=e.data.autoCode,me.value=!0}else{if(0!==(await f(se.value)).code)return;R({type:"success",message:"自动化代码创建成功，自动移动成功"}),Be()}}})},Ee=b([]),Ne=b([]),Se=async()=>{ne.value.dbName="",ne.value.tableName="";const e=await d({businessDB:ne.value.businessDB});0===e.code&&(Ne.value=e.data.dbs,Ee.value=e.data.dbList)},Ce=async()=>{const e=await s({businessDB:ne.value.businessDB,dbName:ne.value.dbName});0===e.code&&(ie.value=e.data.tables),ne.value.tableName=""},Ve=async()=>{const e=await u(ne.value);if(0===e.code){let t="";if(""!==ne.value.businessDB){const e=Ee.value.find(e=>e.aliasName===ne.value.businessDB),a=L(e);t=a.dbtype}se.value.gvaModel=!1;const n=l(ne.value.tableName);se.value.structName=a(n),se.value.tableName=ne.value.tableName,se.value.packageName=o(n),se.value.abbreviation=o(n),se.value.description=n+"表",se.value.autoCreateApiToSql=!0,se.value.generateServer=!0,se.value.generateWeb=!0,se.value.fields=[],e.data.columns&&e.data.columns.forEach(e=>{if(ke(e)){const o=l(e.columnName);se.value.fields.push({onlyNumber:J(),fieldName:a(o),fieldDesc:e.columnComment||o+"字段",fieldType:de.value[e.dataType],dataType:e.dataType,fieldJson:o,primaryKey:e.primaryKey,dataTypeLong:e.dataTypeLong&&e.dataTypeLong.split(",")[0],columnName:"oracle"===t?e.columnName.toUpperCase():e.columnName,comment:e.columnComment,require:!1,errorText:"",clearable:!0,fieldSearchType:"",fieldIndexType:"",dictType:"",form:!0,table:!0,excel:!1,desc:!0,dataSource:{dbName:"",association:1,table:"",label:"",value:"",hasDeletedAt:!1}})}})}},ke=e=>{let t=!0;return se.value.gvaModel&&G.some(t=>t===e.columnName)&&(t=!1),se.value.autoCreateResource&&Z.some(t=>t===e.columnName)&&(t=!1),t},Ae=async()=>{["string","int","bool","float64","time.Time"].forEach(async e=>{const t=await(async(e,t={depth:0,value:null})=>{if(!e||"string"!=typeof e)return[];("number"!=typeof t.depth||t.depth<0)&&(t.depth=0);try{const a=F();await a.getDictionary(e,t.depth,t.value);const l=((e,t,a)=>null!=a?"".concat(e,"_value_").concat(a,"_depth_").concat(t):0===t?"".concat(e,"_tree"):"".concat(e,"_depth_").concat(t))(e,t.depth,t.value),o=a.dictionaryMap[l];return Array.isArray(o)?o:[]}catch(a){return[]}})(e);t&&t.forEach(t=>{de.value[t.label]=e})})},Oe=b([]),Ie=async()=>{const e=await c();0===e.code&&(Oe.value=e.data.pkgs)},Me=()=>{le.push({name:"autoPkg"})};(()=>{Se(),Ae(),Ie();const e=ae.params.id;e&&(async e=>{const t=await m({id:Number(e)});if(0===t.code){const e=ae.query.isAdd;K.value=e,se.value=JSON.parse(t.data.meta),K.value&&se.value.fields.forEach(e=>{e.disabled=!0})}})(e)})(),x(()=>se.value.generateServer,()=>{se.value.generateServer||(se.value.autoCreateApiToSql=!1,se.value.autoMigrate=!1)}),x(()=>se.value.generateWeb,()=>{se.value.generateWeb||(se.value.autoCreateMenuToSql=!1,se.value.autoCreateBtnAuth=!1)});const Be=async()=>{se.value={structName:"",tableName:"",packageName:"",package:"",abbreviation:"",description:"",businessDB:"",autoCreateApiToSql:!0,autoCreateMenuToSql:!0,autoCreateBtnAuth:!1,autoMigrate:!0,gvaModel:!0,autoCreateResource:!1,onlyTemplate:!1,isTree:!1,treeJson:"",fields:[]},await P(),window.sessionStorage.removeItem("autoCode")};(()=>{const e=window.sessionStorage.getItem("autoCode");e&&(se.value=JSON.parse(e))})();const Ue=e=>{const t=new FileReader;return t.onload=e=>{try{se.value=JSON.parse(e.target.result),se.value.generateServer=!0,se.value.generateWeb=!0,R.success("JSON 文件导入成功")}catch(t){R.error("无效的 JSON 文件")}},t.readAsText(e),!1};x(()=>se.value.onlyTemplate,e=>{e&&j.confirm("使用基础模板将不会生成任何结构体和CURD,仅仅配置enter等属性方便自行开发非CURD逻辑","注意",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(()=>{se.value.fields=[]}).catch(()=>{se.value.onlyTemplate=!1})});const Pe=(e,t)=>{if("richtext"===e)return"LIKE"!==t;if("string"!==e&&"LIKE"===t)return!0;return!(["int","time.Time","float64"].includes(e)||!["BETWEEN","NOT BETWEEN"].includes(t))};return(a,l)=>{const n=T("el-input"),r=T("ai-gva"),d=T("el-icon"),s=T("el-button"),u=T("el-tooltip"),c=T("QuestionFilled"),p=T("el-option"),f=T("el-select"),m=T("el-form-item"),v=T("el-col"),b=T("el-row"),y=T("el-form"),w=T("refresh"),_=T("document-add"),D=T("el-checkbox"),x=T("el-collapse-item"),P=T("el-collapse"),L=T("MoreFilled"),F=T("el-table-column"),W=T("el-table"),q=T("el-upload"),J=T("el-drawer");return N(),E("div",null,[S(X,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请点我观看。"}),K.value?C("",!0):(N(),E("div",Jt,[l[38]||(l[38]=V("div",{class:"text-lg mb-2 text-gray-600"},[k(" 使用AI创建"),V("a",{class:"text-blue-600 text-sm ml-4",href:"https://plugin.gin-vue-admin.com/#/layout/userInfo/center",target:"_blank"},"获取AiPath")],-1)),V("div",zt,[S(n,{modelValue:z.value,"onUpdate:modelValue":l[0]||(l[0]=e=>z.value=e),type:"textarea",rows:5,maxlength:2e3,placeholder:"现已完全免费\n试试复制一张图片然后按下ctrl+v或者commend+v\n试试描述你的表，让AI帮你完成。\n此功能需要到插件市场个人中心获取自己的AI-Path，把AI-Path填入config.yaml下的autocode--\x3eai-path，重启项目即可使用。\n按下 Ctrl+Enter 或 Cmd+Enter 直接生成",resize:"none",onFocus:g,onBlur:Y},null,8,["modelValue"]),V("div",Ht,[S(u,{effect:"light"},{content:A(()=>[...l[34]||(l[34]=[V("div",null,[k(" 【完全免费】前往"),V("a",{class:"text-blue-600",href:"https://plugin.gin-vue-admin.com/#/layout/userInfo/center",target:"_blank"},"插件市场个人中心"),k("申请AIPath，填入config.yaml的ai-path属性即可使用。 ")],-1)])]),default:A(()=>[S(s,{disabled:se.value.onlyTemplate,type:"primary",onClick:l[1]||(l[1]=e=>(async()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=async e=>{const t=e.target.result,a=await i({picture:t,command:"eye"});0===a.code&&(z.value=a.data,H())},e.readAsDataURL(t)}},e.click()})())},{default:A(()=>[S(d,{size:"18"},{default:A(()=>[S(r)]),_:1}),l[35]||(l[35]=k(" 识图 ",-1))]),_:1},8,["disabled"])]),_:1})]),V("div",Kt,[S(u,{effect:"light"},{content:A(()=>[...l[36]||(l[36]=[V("div",null,[k(" 【完全免费】前往"),V("a",{class:"text-blue-600",href:"https://plugin.gin-vue-admin.com/#/layout/userInfo/center",target:"_blank"},"插件市场个人中心"),k("申请AIPath，填入config.yaml的ai-path属性即可使用。 ")],-1)])]),default:A(()=>[S(s,{disabled:se.value.onlyTemplate,type:"primary",onClick:l[2]||(l[2]=e=>H())},{default:A(()=>[S(d,{size:"18"},{default:A(()=>[S(r)]),_:1}),l[37]||(l[37]=k(" 生成 ",-1))]),_:1},8,["disabled"])]),_:1})])])])),K.value?C("",!0):(N(),E("div",Gt,[l[41]||(l[41]=V("div",{class:"text-lg mb-2 text-gray-600"},"从数据库创建",-1)),S(y,{ref:"getTableForm",inline:!0,model:ne.value,"label-width":"120px"},{default:A(()=>[S(b,{class:"w-full"},{default:A(()=>[S(v,{span:6},{default:A(()=>[S(m,{label:"业务库",prop:"selectDBtype",class:"w-full"},{label:A(()=>[S(u,{content:"注：需要提前到db-list自行配置多数据库，如未配置需配置后重启服务方可使用。（此处可选择对应库表，可理解为从哪个库选择表）",placement:"bottom",effect:"light"},{default:A(()=>[V("div",null,[l[39]||(l[39]=k(" 业务库 ",-1)),S(d,null,{default:A(()=>[S(c)]),_:1})])]),_:1})]),default:A(()=>[S(f,{modelValue:ne.value.businessDB,"onUpdate:modelValue":l[3]||(l[3]=e=>ne.value.businessDB=e),clearable:"",placeholder:"选择业务库",onChange:Se,class:"w-full"},{default:A(()=>[(N(!0),E(O,null,I(Ee.value,e=>(N(),M(p,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:A(()=>[V("div",null,[V("span",null,B(e.aliasName),1),V("span",Zt,B(e.dbName),1)])]),_:2},1032,["value","label","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{label:"数据库名",prop:"structName",class:"w-full"},{default:A(()=>[S(f,{modelValue:ne.value.dbName,"onUpdate:modelValue":l[4]||(l[4]=e=>ne.value.dbName=e),clearable:"",filterable:"",placeholder:"请选择数据库",class:"w-full",onChange:Ce},{default:A(()=>[(N(!0),E(O,null,I(Ne.value,e=>(N(),M(p,{key:e.database,label:e.database,value:e.database},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{label:"表名",prop:"structName",class:"w-full"},{default:A(()=>[S(f,{modelValue:ne.value.tableName,"onUpdate:modelValue":l[5]||(l[5]=e=>ne.value.tableName=e),disabled:!ne.value.dbName,class:"w-full",filterable:"",placeholder:"请选择表"},{default:A(()=>[(N(!0),E(O,null,I(ie.value,e=>(N(),M(p,{key:e.tableName,label:e.tableName,value:e.tableName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{class:"w-full"},{default:A(()=>[V("div",Qt,[S(s,{type:"primary",onClick:Ve},{default:A(()=>[...l[40]||(l[40]=[k(" 使用此表 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])),V("div",$t,[l[46]||(l[46]=V("div",{class:"text-lg mb-2 text-gray-600"},"自动化结构",-1)),S(y,{disabled:K.value,ref_key:"autoCodeForm",ref:xe,rules:ue.value,model:se.value,"label-width":"120px",inline:!0},{default:A(()=>[S(b,{class:"w-full"},{default:A(()=>[S(v,{span:6},{default:A(()=>[S(m,{label:"结构名称",prop:"structName",class:"w-full"},{default:A(()=>[V("div",ea,[S(n,{modelValue:se.value.structName,"onUpdate:modelValue":l[6]||(l[6]=e=>se.value.structName=e),placeholder:"首字母自动转换大写"},null,8,["modelValue"]),S(s,{disabled:se.value.onlyTemplate,type:"primary",onClick:l[7]||(l[7]=e=>H(!0))},{default:A(()=>[S(d,{size:"18"},{default:A(()=>[S(r)]),_:1}),l[42]||(l[42]=k(" 生成 ",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{label:"abbreviation",prop:"abbreviation",class:"w-full"},{label:A(()=>[S(u,{content:"简称会作为入参对象名和路由group",placement:"bottom",effect:"light"},{default:A(()=>[V("div",null,[l[43]||(l[43]=k(" 结构简称 ",-1)),S(d,null,{default:A(()=>[S(c)]),_:1})])]),_:1})]),default:A(()=>[S(n,{modelValue:se.value.abbreviation,"onUpdate:modelValue":l[8]||(l[8]=e=>se.value.abbreviation=e),placeholder:"请输入Struct简称"},null,8,["modelValue"])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{label:"中文名称",prop:"description",class:"w-full"},{default:A(()=>[S(n,{modelValue:se.value.description,"onUpdate:modelValue":l[9]||(l[9]=e=>se.value.description=e),placeholder:"中文描述作为自动api描述"},null,8,["modelValue"])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{label:"表名",prop:"tableName",class:"w-full"},{default:A(()=>[S(n,{modelValue:se.value.tableName,"onUpdate:modelValue":l[10]||(l[10]=e=>se.value.tableName=e),placeholder:"指定表名（非必填）"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),S(b,{class:"w-full"},{default:A(()=>[S(v,{span:6},{default:A(()=>[S(m,{prop:"packageName",class:"w-full"},{label:A(()=>[S(u,{content:"生成文件的默认名称(建议为驼峰格式,首字母小写,如sysXxxXxxx)",placement:"bottom",effect:"light"},{default:A(()=>[V("div",null,[l[44]||(l[44]=k(" 文件名称 ",-1)),S(d,null,{default:A(()=>[S(c)]),_:1})])]),_:1})]),default:A(()=>[S(n,{modelValue:se.value.packageName,"onUpdate:modelValue":l[11]||(l[11]=e=>se.value.packageName=e),placeholder:"请输入文件名称",onBlur:l[12]||(l[12]=e=>{var t,a;(t=se.value)[a="packageName"]=o(t[a])})},null,8,["modelValue"])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{label:"选择模板",prop:"package",class:"w-full relative"},{default:A(()=>[S(f,{modelValue:se.value.package,"onUpdate:modelValue":l[13]||(l[13]=e=>se.value.package=e),class:"w-full pr-12",filterable:""},{default:A(()=>[(N(!0),E(O,null,I(Oe.value,e=>(N(),M(p,{key:e.ID,value:e.packageName,label:e.packageName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),V("span",ta,[S(d,{class:"cursor-pointer ml-2 text-gray-600",onClick:Ie},{default:A(()=>[S(w)]),_:1}),S(d,{class:"cursor-pointer ml-2 text-gray-600",onClick:Me},{default:A(()=>[S(_)]),_:1})])]),_:1})]),_:1}),S(v,{span:6},{default:A(()=>[S(m,{label:"业务库",prop:"businessDB",class:"w-full"},{label:A(()=>[S(u,{content:"注：需要提前到db-list自行配置多数据库，此项为空则会使用gva本库创建自动化代码(global.GVA_DB),填写后则会创建指定库的代码(global.MustGetGlobalDBByDBName(dbname))",placement:"bottom",effect:"light"},{default:A(()=>[V("div",null,[l[45]||(l[45]=k(" 业务库 ",-1)),S(d,null,{default:A(()=>[S(c)]),_:1})])]),_:1})]),default:A(()=>[S(f,{modelValue:se.value.businessDB,"onUpdate:modelValue":l[14]||(l[14]=e=>se.value.businessDB=e),clearable:"",placeholder:"选择业务库",class:"w-full"},{default:A(()=>[(N(!0),E(O,null,I(Ee.value,e=>(N(),M(p,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:A(()=>[V("div",null,[V("span",null,B(e.aliasName),1),V("span",aa,B(e.dbName),1)])]),_:2},1032,["value","label","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","rules","model"])]),V("div",la,[S(P,{class:"no-border-collapse"},{default:A(()=>[S(x,null,{title:A(()=>[...l[47]||(l[47]=[V("div",{class:"text-lg text-gray-600 font-normal"}," 专家模式 ",-1)])]),icon:A(({isActive:e})=>[V("span",oa,B(e?"收起":"展开"),1)]),default:A(()=>[V("div",na,[V("div",ia,[l[48]||(l[48]=V("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"基础设置",-1)),S(b,{gutter:20},{default:A(()=>[S(v,{span:3},{default:A(()=>[S(u,{content:"注：会自动在结构体global.Model其中包含主键和软删除相关操作配置",placement:"top",effect:"light"},{default:A(()=>[S(m,{label:"使用GVA结构"},{default:A(()=>[S(D,{modelValue:se.value.gvaModel,"onUpdate:modelValue":l[15]||(l[15]=e=>se.value.gvaModel=e),onChange:ve},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),S(v,{span:3},{default:A(()=>[S(u,{content:"注：会自动产生页面内的按钮权限配置，若不在角色管理中进行按钮分配则按钮不可见",placement:"top",effect:"light"},{default:A(()=>[S(m,{label:"创建按钮权限"},{default:A(()=>[S(D,{disabled:!se.value.generateWeb,modelValue:se.value.autoCreateBtnAuth,"onUpdate:modelValue":l[16]||(l[16]=e=>se.value.autoCreateBtnAuth=e)},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1}),S(v,{span:3},{default:A(()=>[S(m,{label:"生成前端"},{default:A(()=>[S(D,{modelValue:se.value.generateWeb,"onUpdate:modelValue":l[17]||(l[17]=e=>se.value.generateWeb=e)},null,8,["modelValue"])]),_:1})]),_:1}),S(v,{span:3},{default:A(()=>[S(m,{label:"生成后端"},{default:A(()=>[S(D,{disabled:"",modelValue:se.value.generateServer,"onUpdate:modelValue":l[18]||(l[18]=e=>se.value.generateServer=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),V("div",ra,[l[49]||(l[49]=V("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"自动化设置",-1)),S(b,{gutter:20},{default:A(()=>[S(v,{span:3},{default:A(()=>[S(u,{content:"注：把自动生成的API注册进数据库",placement:"top",effect:"light"},{default:A(()=>[S(m,{label:"自动创建API"},{default:A(()=>[S(D,{disabled:!se.value.generateServer,modelValue:se.value.autoCreateApiToSql,"onUpdate:modelValue":l[19]||(l[19]=e=>se.value.autoCreateApiToSql=e)},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1}),S(v,{span:3},{default:A(()=>[S(u,{content:"注：把自动生成的菜单注册进数据库",placement:"top",effect:"light"},{default:A(()=>[S(m,{label:"自动创建菜单"},{default:A(()=>[S(D,{disabled:!se.value.generateWeb,modelValue:se.value.autoCreateMenuToSql,"onUpdate:modelValue":l[20]||(l[20]=e=>se.value.autoCreateMenuToSql=e)},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1}),S(v,{span:3},{default:A(()=>[S(u,{content:"注：自动同步数据库表结构，如果不需要可以选择关闭",placement:"top",effect:"light"},{default:A(()=>[S(m,{label:"同步表结构"},{default:A(()=>[S(D,{disabled:!se.value.generateServer,modelValue:se.value.autoMigrate,"onUpdate:modelValue":l[21]||(l[21]=e=>se.value.autoMigrate=e)},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),V("div",da,[l[50]||(l[50]=V("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"高级设置",-1)),S(b,{gutter:20},{default:A(()=>[S(v,{span:3},{default:A(()=>[S(u,{content:"注：会自动在结构体添加 created_by updated_by deleted_by，方便用户进行资源权限控制",placement:"top",effect:"light"},{default:A(()=>[S(m,{label:"创建资源标识"},{default:A(()=>[S(D,{modelValue:se.value.autoCreateResource,"onUpdate:modelValue":l[22]||(l[22]=e=>se.value.autoCreateResource=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),S(v,{span:3},{default:A(()=>[S(u,{content:"注：使用基础模板将不会生成任何结构体和CURD,仅仅配置enter等属性方便自行开发非CURD逻辑",placement:"top",effect:"light"},{default:A(()=>[S(m,{label:"基础模板"},{default:A(()=>[S(D,{modelValue:se.value.onlyTemplate,"onUpdate:modelValue":l[23]||(l[23]=e=>se.value.onlyTemplate=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),V("div",sa,[l[51]||(l[51]=V("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"树形结构设置",-1)),S(b,{gutter:20,align:"middle"},{default:A(()=>[S(v,{span:24},{default:A(()=>[S(m,{label:"树型结构"},{default:A(()=>[V("div",ua,[S(u,{content:"注：会自动创建parentID来进行父子关系关联,仅支持主键为int类型",placement:"top",effect:"light"},{default:A(()=>[S(D,{modelValue:se.value.isTree,"onUpdate:modelValue":l[24]||(l[24]=e=>se.value.isTree=e)},null,8,["modelValue"])]),_:1}),S(n,{modelValue:se.value.treeJson,"onUpdate:modelValue":l[25]||(l[25]=e=>se.value.treeJson=e),disabled:!se.value.isTree,placeholder:"前端展示json属性",class:"flex-1"},null,8,["modelValue","disabled"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})]),V("div",ca,[V("div",pa,[S(s,{type:"primary",onClick:l[26]||(l[26]=e=>ye()),disabled:se.value.onlyTemplate},{default:A(()=>[...l[52]||(l[52]=[k(" 新增字段 ",-1)])]),_:1},8,["disabled"])]),V("div",fa,[S(W,{data:se.value.fields,"row-key":"fieldName"},{default:A(()=>[K.value?C("",!0):(N(),M(F,{key:0,fixed:"left",align:"left",type:"index",width:"60"},{default:A(()=>[S(d,{class:"cursor-grab drag-column"},{default:A(()=>[S(L)]),_:1})]),_:1})),S(F,{fixed:"left",align:"left",type:"index",label:"序列",width:"60"}),S(F,{fixed:"left",align:"left",type:"index",label:"主键",width:"60"},{default:A(({row:e})=>[S(D,{disabled:e.disabled,modelValue:e.primaryKey,"onUpdate:modelValue":t=>e.primaryKey=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{fixed:"left",align:"left",prop:"fieldName",label:"字段名称",width:"160"},{default:A(({row:e})=>[S(n,{disabled:"",modelValue:e.fieldName,"onUpdate:modelValue":t=>e.fieldName=t},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"fieldDesc",label:"中文名",width:"160"},{default:A(({row:e})=>[S(n,{disabled:e.disabled,modelValue:e.fieldDesc,"onUpdate:modelValue":t=>e.fieldDesc=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"defaultValue",label:"默认值",width:"160"},{default:A(({row:e})=>[S(n,{disabled:e.disabled,modelValue:e.defaultValue,"onUpdate:modelValue":t=>e.defaultValue=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"require",label:"必填"},{default:A(({row:e})=>[S(D,{disabled:e.disabled,modelValue:e.require,"onUpdate:modelValue":t=>e.require=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"sort",label:"排序"},{default:A(({row:e})=>[S(D,{disabled:e.disabled,modelValue:e.sort,"onUpdate:modelValue":t=>e.sort=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"form",width:"100",label:"新建/编辑"},{default:A(({row:e})=>[S(D,{disabled:e.disabled,modelValue:e.form,"onUpdate:modelValue":t=>e.form=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"table",label:"表格"},{default:A(({row:e})=>[S(D,{disabled:e.disabled,modelValue:e.table,"onUpdate:modelValue":t=>e.table=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"desc",label:"详情"},{default:A(({row:e})=>[S(D,{disabled:e.disabled,modelValue:e.desc,"onUpdate:modelValue":t=>e.desc=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),K.value?C("",!0):(N(),M(F,{key:1,align:"left",prop:"excel",width:"100",label:"导入/导出"},{default:A(({row:e})=>[S(D,{modelValue:e.excel,"onUpdate:modelValue":t=>e.excel=t},null,8,["modelValue","onUpdate:modelValue"])]),_:1})),S(F,{align:"left",prop:"fieldJson",width:"160px",label:"字段Json"},{default:A(({row:e})=>[S(n,{disabled:e.disabled,modelValue:e.fieldJson,"onUpdate:modelValue":t=>e.fieldJson=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"fieldType",label:"字段类型",width:"160"},{default:A(({row:e})=>[S(f,{modelValue:e.fieldType,"onUpdate:modelValue":t=>e.fieldType=t,style:{width:"100%"},placeholder:"请选择字段类型",disabled:e.disabled,clearable:""},{default:A(()=>[(N(!0),E(O,null,I(Q.value,e=>(N(),M(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),S(F,{align:"left",prop:"fieldIndexType",label:"索引类型",width:"160"},{default:A(({row:e})=>[S(f,{modelValue:e.fieldIndexType,"onUpdate:modelValue":t=>e.fieldIndexType=t,style:{width:"100%"},placeholder:"请选择字段索引类型",disabled:e.disabled,clearable:""},{default:A(()=>[(N(!0),E(O,null,I(ee.value,e=>(N(),M(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),S(F,{align:"left",prop:"dataTypeLong",label:"字段长度/枚举值",width:"160"},{default:A(({row:e})=>[S(n,{disabled:e.disabled,modelValue:e.dataTypeLong,"onUpdate:modelValue":t=>e.dataTypeLong=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"columnName",label:"数据库字段",width:"160"},{default:A(({row:e})=>[S(n,{disabled:e.disabled,modelValue:e.columnName,"onUpdate:modelValue":t=>e.columnName=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"comment",label:"数据库字段描述",width:"160"},{default:A(({row:e})=>[S(n,{disabled:e.disabled,modelValue:e.comment,"onUpdate:modelValue":t=>e.comment=t},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),S(F,{align:"left",prop:"fieldSearchType",label:"搜索条件",width:"130"},{default:A(({row:e})=>[S(f,{modelValue:e.fieldSearchType,"onUpdate:modelValue":t=>e.fieldSearchType=t,style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:"",disabled:"json"===e.fieldType||e.disabled},{default:A(()=>[(N(!0),E(O,null,I($.value,t=>(N(),M(p,{key:t.value,label:t.label,value:t.value,disabled:Pe(e.fieldType,t.value)},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),S(F,{align:"left",label:"操作",width:"300",fixed:"right"},{default:A(e=>[e.row.disabled?C("",!0):(N(),M(s,{key:0,type:"primary",link:"",icon:"edit",onClick:t=>ye(e.row)},{default:A(()=>[...l[53]||(l[53]=[k(" 高级编辑 ",-1)])]),_:1},8,["onClick"])),e.row.disabled?C("",!0):(N(),M(s,{key:1,type:"primary",link:"",icon:"delete",onClick:t=>{return a=e.$index,void j.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{se.value.fields.splice(a,1)});var a}},{default:A(()=>[...l[54]||(l[54]=[k(" 删除 ",-1)])]),_:1},8,["onClick"]))]),_:1})]),_:1},8,["data"])]),V("div",ma,[S(s,{type:"primary",disabled:K.value,onClick:l[27]||(l[27]=e=>(()=>{const e=JSON.stringify(se.value,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="form_data.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)})())},{default:A(()=>[...l[55]||(l[55]=[k(" 导出json ",-1)])]),_:1},8,["disabled"]),S(q,{class:"flex items-center","before-upload":Ue,"show-file-list":!1,headers:{"x-token":U(h)},accept:".json"},{default:A(()=>[S(s,{type:"primary",class:"mx-2",disabled:K.value},{default:A(()=>[...l[56]||(l[56]=[k("导入json",-1)])]),_:1},8,["disabled"])]),_:1},8,["headers"]),S(s,{type:"primary",disabled:K.value,onClick:l[28]||(l[28]=e=>Be())},{default:A(()=>[...l[57]||(l[57]=[k(" 清除暂存 ",-1)])]),_:1},8,["disabled"]),S(s,{type:"primary",disabled:K.value,onClick:l[29]||(l[29]=e=>(window.sessionStorage.setItem("autoCode",JSON.stringify(se.value)),void R.success("暂存成功")))},{default:A(()=>[...l[58]||(l[58]=[k(" 暂存 ",-1)])]),_:1},8,["disabled"]),S(s,{type:"primary",disabled:K.value,onClick:l[30]||(l[30]=e=>Te(!1))},{default:A(()=>[...l[59]||(l[59]=[k(" 生成代码 ",-1)])]),_:1},8,["disabled"]),S(s,{type:"primary",onClick:l[31]||(l[31]=e=>Te(!0))},{default:A(()=>[k(B(K.value?"查看代码":"预览代码"),1)]),_:1})])]),S(J,{modelValue:fe.value,"onUpdate:modelValue":l[32]||(l[32]=e=>fe.value=e),size:"70%","show-close":!1},{header:A(()=>[V("div",va,[l[62]||(l[62]=V("span",{class:"text-lg"},"组件内容",-1)),V("div",null,[S(s,{onClick:De},{default:A(()=>[...l[60]||(l[60]=[k(" 取 消 ",-1)])]),_:1}),S(s,{type:"primary",onClick:_e},{default:A(()=>[...l[61]||(l[61]=[k(" 确 定 ",-1)])]),_:1})])])]),default:A(()=>[fe.value?(N(),M(e,{key:0,ref_key:"fieldDialogNode",ref:we,"dialog-middle":ce.value,"type-options":Q.value,"type-search-options":$.value,"type-index-options":ee.value},null,8,["dialog-middle","type-options","type-search-options","type-index-options"])):C("",!0)]),_:1},8,["modelValue"]),S(J,{modelValue:me.value,"onUpdate:modelValue":l[33]||(l[33]=e=>me.value=e),size:"80%","show-close":!1},{header:A(()=>[V("div",ha,[l[65]||(l[65]=V("span",{class:"text-lg"},"操作栏",-1)),V("div",null,[S(s,{type:"primary",onClick:ge},{default:A(()=>[...l[63]||(l[63]=[k(" 全选 ",-1)])]),_:1}),S(s,{type:"primary",onClick:be},{default:A(()=>[...l[64]||(l[64]=[k(" 复制 ",-1)])]),_:1})])])]),default:A(()=>[me.value?(N(),M(t,{key:0,"is-add":K.value,ref_key:"previewNode",ref:he,"preview-code":oe.value},null,8,["is-add","preview-code"])):C("",!0)]),_:1},8,["modelValue"])])}}});export{ga as default};
