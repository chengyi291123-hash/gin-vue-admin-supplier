/*! 
 Build based on gin-vue-admin 
 Time : 1764044126000 */
!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",u=n.toStringTag||"@@toStringTag";function o(n,l,r,u){var o=l&&l.prototype instanceof c?l:c,d=Object.create(o.prototype);return a(d,"_invoke",function(n,l,a){var r,u,o,c=0,d=a||[],f=!1,s={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return r=t,u=0,o=e,s.n=n,i}};function p(n,l){for(u=n,o=l,t=0;!f&&c&&!a&&t<d.length;t++){var a,r=d[t],p=s.p,m=r[2];n>3?(a=m===l)&&(o=r[(u=r[4])?5:(u=3,3)],r[4]=r[5]=e):r[0]<=p&&((a=n<2&&p<r[1])?(u=0,s.v=l,s.n=r[1]):p<m&&(a=n<3||r[0]>l||l>m)&&(r[4]=n,r[5]=l,s.n=m,u=0))}if(a||n>1)return i;throw f=!0,l}return function(a,d,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===d&&p(d,m),u=d,o=m;(t=u<2?e:o)||!f;){r||(u?u<3?(u>1&&(s.n=-1),p(u,o)):s.n=o:s.v=o);try{if(c=2,r){if(u||(a="next"),t=r[a]){if(!(t=t.call(r,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,u<2&&(u=0)}else 1===u&&(t=r.return)&&t.call(r),u<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),u=1);r=e}else if((t=(f=s.n<0)?o:n.call(l,s))!==i)break}catch(t){r=e,u=1,o=t}finally{c=1}}return{value:t,done:f}}}(n,r,u),!0),d}var i={};function c(){}function d(){}function f(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(a(t={},r,function(){return this}),t),p=f.prototype=c.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,u,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=f,a(p,"constructor",f),a(f,"constructor",d),d.displayName="GeneratorFunction",a(f,u,"GeneratorFunction"),a(p),a(p,u,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:m}})()}function a(e,t,n,l){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}a=function(e,t,n,l){function u(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!l,configurable:!l,writable:!l}):e[t]=n:(u("next",0),u("throw",1),u("return",2))},a(e,t,n,l)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(t,n,l){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var l=t[Symbol.toPrimitive];if(void 0!==l){var a=l.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l,t}function i(e,t,n,l,a,r,u){try{var o=e[r](u),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(l,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(l,a){var r=e.apply(t,n);function u(e){i(r,l,a,u,o,"next",e)}function o(e){i(r,l,a,u,o,"throw",e)}u(void 0)})}}System.register(["./087AC4D233B64EB0index-legacy.BoF2kFSF.js","./087AC4D233B64EB0_plugin-vue_export-helper-legacy.DCWa1RRI.js"],function(e,n){"use strict";var a,r,o,i,d,f,s,p,m,b,y,v,_,h,w,g,V,x,k,U;return{setters:[function(e){a=e.a,r=e.r,o=e.D,i=e.v,d=e.c,f=e.b,s=e.d,p=e.f,m=e.w,b=e.g,y=e.t,v=e.i,_=e.h,h=e.s,w=e.E,g=e.o,V=e.q,x=e.G,k=e.H},function(e){U=e._}],execute:function(){var n=document.createElement("style");n.textContent=".supplier-container[data-v-83e06ca4]{height:100vh;display:flex;background-color:#f0f2f5}.aside[data-v-83e06ca4]{background-color:#2b3649;color:#fff;transition:width .3s;width:220px;display:flex;flex-direction:column}.logo[data-v-83e06ca4]{height:60px;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;background-color:#2b3649;border-bottom:1px solid #454d5e}.el-menu[data-v-83e06ca4]{border-right:none}.header[data-v-83e06ca4]{background-color:#fff;border-bottom:1px solid #e6e6e6;display:flex;align-items:center;justify-content:space-between;padding:0 20px;height:60px;box-shadow:0 1px 4px rgba(0,21,41,.08)}.breadcrumb[data-v-83e06ca4]{font-size:14px;color:#97a8be}.main[data-v-83e06ca4]{background-color:#f0f2f5;padding:20px;flex:1;overflow-y:auto}.content-card[data-v-83e06ca4]{background-color:#fff;padding:20px;border-radius:4px;min-height:calc(100vh - 140px)}.form-section-title[data-v-83e06ca4]{font-size:16px;font-weight:700;margin-bottom:20px;padding-left:10px;border-left:4px solid #409EFF}.demo-tips[data-v-83e06ca4]{position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,.7);color:#fff;padding:15px;border-radius:8px;max-width:300px;z-index:9999;font-size:14px}.red-star[data-v-83e06ca4]{color:#f56c6c;margin-right:4px}\n/*$vite$:1*/",document.head.appendChild(n);var O={class:"supplier-container"},j={class:"aside"},z={style:{flex:"1",display:"flex","flex-direction":"column",overflow:"hidden"}},S={class:"header"},C={class:"breadcrumb"},q={style:{display:"flex","align-items":"center"}},P={class:"main"},E={class:"content-card"},A={key:0},D={key:2},I={style:{"margin-left":"50px","margin-right":"50px"}},G={key:0,style:{display:"flex","align-items":"center"}},T={style:{"margin-right":"10px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","max-width":"150px"}},F={key:1},B={style:{"margin-bottom":"20px"}},$={key:2},N={style:{"margin-bottom":"20px",display:"flex","justify-content":"space-between"}},H={style:{"margin-top":"20px","text-align":"right"}},M={key:0,class:"demo-tips"},J={__name:"index",setup:function(e){var n=a("apply"),U=a("basic"),J=a(!0);a(!1);var K=a([]),L=r({enterprise_name:"杭州森森休闲用品有限公司",credit_code:"913301020743241989",entry_type:"manufacturing",category:"raw",region:"华东区",industry:"petrochemical",brand:"森森",contact_person:"俞志勇",mobile:"19846768980",purchaser:"Admin",email:"19846768980@126.com",settlement:"m30",bank_name:"",branch_name:"",bank_account:""}),Q=r({name:"",status:""});r({id:"",enterprise_name:"",credit_code:"",entry_type:"",category:"",region:"",industry:"",brand:"",contact_person:"",mobile:"",bank_name:"",branch_name:"",bank_account:"",settlement:"",purchaser:"",reason:"",status:"",toBlacklist:!1});var R=a(!1),W=a([]),X=o(function(){return"manufacturing"===L.entry_type?["营业执照","制造/设计许可证","ISO 9001质量管理体系证书","14001 职业健康安全管理体系证书","18001 环境管理体系认证证书","质量手册/质保大纲","外部审查报告","生产设备清单","检测设备清单","计量器具清单","设计人员名单","检验人员名单","特种工艺人员名单及资质证书","专职质保人员名单","近三年公司业绩清单","其他文件"]:["营业执照","品牌代理证书","ISO 9001质量管理体系证书","14001 职业健康安全管理体系证书","18001 环境管理体系认证证书","近三年公司业绩清单","其他文件"]}),Y=function(e){return K.value.find(function(t){return t.type===e})},Z=function(){var e=c(l().m(function e(){var t,a,r;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return t="","qualified"===n.value?t="qualified":"temp"===n.value&&(t="temp"),a={page:1,pageSize:100},t&&(a.status=t),Q.name&&(a.enterprise_name=Q.name),Q.status&&(a.status=Q.status),e.p=1,e.n=2,h({url:"/suppliers",method:"get",params:a});case 2:0===(r=e.v).code&&(W.value=r.data.list.map(function(e){return u(u({},e),{},{id:e.ID,name:e.enterprise_name,code:e.credit_code,contact:e.contact_person,status_base:"blacklist"===e.status?"temp":e.status,is_blacklist_str:"blacklist"===e.status?"是":"否"},e)})),e.n=4;break;case 3:e.p=3,e.v,w.error("获取数据失败");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();i(function(){Z()});var ee=function(e){n.value=e,"apply"===e&&(R.value=!1),Z()},te=function(){var e=c(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=u({},L),R.value?t.status="temp":t.status="qualified",e.n=1,h({url:"/suppliers",method:"post",data:t});case 1:0===e.v.code&&(w.success("提交申请成功！"),Z()),e.n=3;break;case 2:e.p=2,e.v,w.error("提交失败");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){Z()},le=function(){w.success("正在导出 Excel...")},ae=function(){var e=c(l().m(function e(t){var n,a;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return n="是"===t.is_blacklist_str?"blacklist":t.status_base,a={ID:t.id,enterprise_name:t.enterprise_name,credit_code:t.credit_code,entry_type:t.entry_type,category:t.category,region:t.region,industry:t.industry,brand:t.brand,contact_person:t.contact_person,mobile:t.mobile,bank_name:t.bank_name,branch_name:t.branch_name,settlement:t.settlement,purchaser:t.purchaser,bank_account:t.bank_account,status:n},e.p=1,e.n=2,h({url:"/suppliers/".concat(t.id),method:"put",data:a});case 2:0===e.v.code&&(w.success("保存成功"),Z()),e.n=4;break;case 3:e.p=3,e.v,w.error("保存失败");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();return function(e,l){var a=b("el-icon"),r=b("el-menu-item"),u=b("el-sub-menu"),o=b("el-menu"),i=b("el-button"),c=b("el-avatar"),h=b("el-alert"),Z=b("el-input"),re=b("el-form-item"),ue=b("el-option"),oe=b("el-select"),ie=b("el-col"),ce=b("el-row"),de=b("el-divider"),fe=b("el-form"),se=b("el-tab-pane"),pe=b("el-radio-button"),me=b("el-radio-group"),be=b("el-table-column"),ye=b("el-upload"),ve=b("el-table"),_e=b("el-tabs"),he=b("el-pagination");return g(),d("div",O,[f("div",j,[l[29]||(l[29]=f("div",{class:"logo"},[f("span",null,"Gin-Vue-Admin 演示")],-1)),p(o,{"default-openeds":["1"],"default-active":n.value,"background-color":"#2b3649","text-color":"#bfcbd9","active-text-color":"#409EFF",onSelect:ee},{default:m(function(){return[p(u,{index:"1"},{title:m(function(){return[p(a,null,{default:m(function(){return[p(V(x))]}),_:1}),l[24]||(l[24]=f("span",null,"供应商管理",-1))]}),default:m(function(){return[p(r,{index:"apply"},{default:m(function(){return t(l[25]||(l[25]=[_("供应商申请",-1)]))}),_:1}),p(r,{index:"change"},{default:m(function(){return t(l[26]||(l[26]=[_("供应商变更",-1)]))}),_:1}),p(r,{index:"temp"},{default:m(function(){return t(l[27]||(l[27]=[_("潜在供应商",-1)]))}),_:1}),p(r,{index:"qualified"},{default:m(function(){return t(l[28]||(l[28]=[_("合格供应商",-1)]))}),_:1})]}),_:1})]}),_:1},8,["default-active"])]),f("div",z,[f("div",S,[f("div",C," 首页 / 供应商管理 / "+y({apply:"供应商申请",change:"供应商变更",temp:"潜在供应商",qualified:"合格供应商",blacklist:"供应商黑名单"}[n.value]||""),1),f("div",q,["apply"===n.value?(g(),v(i,{key:0,type:"primary",size:"small",onClick:te,style:{"margin-right":"15px"}},{default:m(function(){return t(l[30]||(l[30]=[_("保存申请",-1)]))}),_:1})):s("",!0),p(c,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})])]),f("div",P,[f("div",E,["apply"===n.value?(g(),d("div",A,[p(h,{title:"提示：潜在供方只需填写红色必填项，直接提交；申请合格供方需填写全部信息并审批。",type:"info","show-icon":"",style:{"margin-bottom":"20px"}}),p(_e,{modelValue:U.value,"onUpdate:modelValue":l[17]||(l[17]=function(e){return U.value=e})},{default:m(function(){return[p(se,{label:"基本信息",name:"basic"},{default:m(function(){return[l[42]||(l[42]=f("div",{class:"form-section-title"},"基本信息",-1)),p(fe,{model:L,"label-width":"150px",style:{"max-width":"900px"}},{default:m(function(){return[p(re,{label:"企业名称"},{default:m(function(){return[p(Z,{modelValue:L.enterprise_name,"onUpdate:modelValue":l[0]||(l[0]=function(e){return L.enterprise_name=e}),placeholder:"请输入企业全称"},null,8,["modelValue"])]}),_:1}),R.value?s("",!0):(g(),v(re,{key:0,label:"统一社会信用代码"},{default:m(function(){return[p(Z,{modelValue:L.credit_code,"onUpdate:modelValue":l[1]||(l[1]=function(e){return L.credit_code=e})},null,8,["modelValue"])]}),_:1})),p(ce,null,{default:m(function(){return[p(ie,{span:12},{default:m(function(){return[p(re,{label:"供应商类型"},{label:m(function(){return t(l[31]||(l[31]=[f("span",{class:"red-star"},"*",-1),_("供应商类型",-1)]))}),default:m(function(){return[p(oe,{modelValue:L.entry_type,"onUpdate:modelValue":l[2]||(l[2]=function(e){return L.entry_type=e}),placeholder:"请选择",style:{width:"100%"}},{default:m(function(){return[p(ue,{label:"生产商",value:"manufacturing"}),p(ue,{label:"贸易商",value:"trading"})]}),_:1},8,["modelValue"])]}),_:1})]}),_:1}),p(ie,{span:12},{default:m(function(){return[p(re,{label:"供应品类"},{label:m(function(){return t(l[32]||(l[32]=[f("span",{class:"red-star"},"*",-1),_("供应品类",-1)]))}),default:m(function(){return[p(oe,{modelValue:L.category,"onUpdate:modelValue":l[3]||(l[3]=function(e){return L.category=e}),placeholder:"请选择分类",style:{width:"100%"}},{default:m(function(){return[p(ue,{label:"原材料",value:"raw"}),p(ue,{label:"电子元器件",value:"electronic"}),p(ue,{label:"办公用品",value:"office"})]}),_:1},8,["modelValue"])]}),_:1})]}),_:1})]}),_:1}),p(ce,null,{default:m(function(){return[R.value?s("",!0):(g(),v(ie,{key:0,span:12},{default:m(function(){return[p(re,{label:"合作区域"},{default:m(function(){return[p(Z,{modelValue:L.region,"onUpdate:modelValue":l[4]||(l[4]=function(e){return L.region=e})},null,8,["modelValue"])]}),_:1})]}),_:1})),p(ie,{span:12},{default:m(function(){return[p(re,{label:"合作行业"},{label:m(function(){return t(l[33]||(l[33]=[f("span",{class:"red-star"},"*",-1),_("合作行业",-1)]))}),default:m(function(){return[p(oe,{modelValue:L.industry,"onUpdate:modelValue":l[5]||(l[5]=function(e){return L.industry=e}),placeholder:"请选择",style:{width:"100%"}},{default:m(function(){return[p(ue,{label:"核电",value:"nuclear"}),p(ue,{label:"石化",value:"petrochemical"}),p(ue,{label:"军工",value:"military"}),p(ue,{label:"其他",value:"other"})]}),_:1},8,["modelValue"])]}),_:1})]}),_:1})]}),_:1}),p(re,{label:"合作品牌"},{label:m(function(){return t(l[34]||(l[34]=[f("span",{class:"red-star"},"*",-1),_("合作品牌",-1)]))}),default:m(function(){return[p(Z,{modelValue:L.brand,"onUpdate:modelValue":l[6]||(l[6]=function(e){return L.brand=e}),placeholder:"请输入品牌"},null,8,["modelValue"])]}),_:1}),p(de),l[41]||(l[41]=f("div",{class:"form-section-title"},"联系人与采购",-1)),p(ce,null,{default:m(function(){return[p(ie,{span:12},{default:m(function(){return[p(re,{label:"联系人"},{label:m(function(){return t(l[35]||(l[35]=[f("span",{class:"red-star"},"*",-1),_("联系人",-1)]))}),default:m(function(){return[p(Z,{modelValue:L.contact_person,"onUpdate:modelValue":l[7]||(l[7]=function(e){return L.contact_person=e})},null,8,["modelValue"])]}),_:1})]}),_:1}),p(ie,{span:12},{default:m(function(){return[p(re,{label:"联系电话"},{label:m(function(){return t(l[36]||(l[36]=[f("span",{class:"red-star"},"*",-1),_("联系电话",-1)]))}),default:m(function(){return[p(Z,{modelValue:L.mobile,"onUpdate:modelValue":l[8]||(l[8]=function(e){return L.mobile=e})},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1}),R.value?s("",!0):(g(),v(re,{key:1,label:"采购员"},{label:m(function(){return t(l[37]||(l[37]=[f("span",{class:"red-star"},"*",-1),_("采购员",-1)]))}),default:m(function(){return[p(Z,{modelValue:L.purchaser,"onUpdate:modelValue":l[9]||(l[9]=function(e){return L.purchaser=e}),placeholder:"默认当前登录用户"},null,8,["modelValue"])]}),_:1})),R.value?s("",!0):(g(),d("div",D,[p(de),l[38]||(l[38]=f("div",{class:"form-section-title"},"财务账户信息",-1)),p(re,{label:"开户行"},{default:m(function(){return[p(Z,{modelValue:L.bank_name,"onUpdate:modelValue":l[10]||(l[10]=function(e){return L.bank_name=e})},null,8,["modelValue"])]}),_:1}),p(re,{label:"开户行名称 (支行)"},{default:m(function(){return[p(Z,{modelValue:L.branch_name,"onUpdate:modelValue":l[11]||(l[11]=function(e){return L.branch_name=e})},null,8,["modelValue"])]}),_:1}),p(re,{label:"银行账号"},{default:m(function(){return[p(Z,{modelValue:L.bank_account,"onUpdate:modelValue":l[12]||(l[12]=function(e){return L.bank_account=e})},null,8,["modelValue"])]}),_:1}),p(re,{label:"结算方式"},{default:m(function(){return[p(oe,{modelValue:L.settlement,"onUpdate:modelValue":l[13]||(l[13]=function(e){return L.settlement=e}),placeholder:"请选择",style:{width:"100%"}},{default:m(function(){return[p(ue,{label:"月结30天",value:"m30"}),p(ue,{label:"预付",value:"prepay"}),p(ue,{label:"货到付款",value:"cod"})]}),_:1},8,["modelValue"])]}),_:1})])),p(re,null,{default:m(function(){return[p(i,null,{default:m(function(){return t(l[39]||(l[39]=[_("上一步",-1)]))}),_:1}),p(i,{type:"primary",onClick:l[14]||(l[14]=function(e){return t="qual",void(U.value=t);var t})},{default:m(function(){return t(l[40]||(l[40]=[_("下一步：资质证书",-1)]))}),_:1})]}),_:1})]}),_:1},8,["model"])]}),_:1}),p(se,{label:"资质证书",name:"qual"},{default:m(function(){return[l[48]||(l[48]=f("div",{class:"form-section-title"},"资质文件上传",-1)),p(fe,{"label-width":"150px"},{default:m(function(){return[p(re,{label:"供应商类型"},{default:m(function(){return[p(me,{modelValue:L.entry_type,"onUpdate:modelValue":l[15]||(l[15]=function(e){return L.entry_type=e})},{default:m(function(){return[p(pe,{label:"manufacturing"},{default:m(function(){return t(l[43]||(l[43]=[_("生产商",-1)]))}),_:1}),p(pe,{label:"trading"},{default:m(function(){return t(l[44]||(l[44]=[_("贸易商",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),f("div",I,[p(ve,{data:X.value.map(function(e){return{name:e}}),border:"",style:{width:"100%"}},{default:m(function(){return[p(be,{prop:"name",label:"证书名称"}),p(be,{label:"已上传份数",width:"120",align:"center"},{default:m(function(e){return[_(y((t=e.row.name,K.value.filter(function(e){return e.type===t}).length))+" 份 ",1)];var t}),_:1}),p(be,{label:"操作",width:"300"},{default:m(function(e){return[Y(e.row.name)?(g(),d("div",G,[p(a,{style:{"margin-right":"5px"}},{default:m(function(){return[p(V(k))]}),_:1}),f("span",T,y(Y(e.row.name).name),1),p(i,{type:"danger",size:"small",link:"",icon:"Delete",onClick:function(t){return n=e.row.name,void(-1!==(l=K.value.findIndex(function(e){return e.type===n}))&&K.value.splice(l,1));var n,l}},null,8,["onClick"])])):(g(),v(ye,{key:1,class:"upload-demo",action:"#","auto-upload":!1,"show-file-list":!1,"on-change":function(t){return n=t,l=e.row.name,-1!==(a=K.value.findIndex(function(e){return e.type===l}))&&K.value.splice(a,1),K.value.push({type:l,name:n.name}),void w.success("已添加 ".concat(l));var n,l,a}},{default:m(function(){return[p(i,{type:"primary",size:"small",icon:"Upload"},{default:m(function(){return t(l[45]||(l[45]=[_("点击上传",-1)]))}),_:1})]}),_:1},8,["on-change"]))]}),_:1})]}),_:1},8,["data"])]),p(re,{style:{"margin-top":"20px"}},{default:m(function(){return[p(i,{onClick:l[16]||(l[16]=function(e){return U.value="basic"})},{default:m(function(){return t(l[46]||(l[46]=[_("上一步",-1)]))}),_:1}),p(i,{type:"success",onClick:te},{default:m(function(){return t(l[47]||(l[47]=[_("提交申请",-1)]))}),_:1})]}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])])):"change"===n.value?(g(),d("div",F,[l[51]||(l[51]=f("div",{class:"form-section-title"},"供应商信息变更",-1)),p(h,{title:"提示：直接在表格中修改信息，点击右侧“保存”按钮提交变更。",type:"warning",style:{"margin-bottom":"20px"},closable:!1}),f("div",B,[p(fe,{inline:!0,model:Q,class:"demo-form-inline"},{default:m(function(){return[p(re,{label:"企业名称"},{default:m(function(){return[p(Z,{modelValue:Q.name,"onUpdate:modelValue":l[18]||(l[18]=function(e){return Q.name=e}),placeholder:"请输入名称"},null,8,["modelValue"])]}),_:1}),p(re,{label:"状态"},{default:m(function(){return[p(oe,{modelValue:Q.status,"onUpdate:modelValue":l[19]||(l[19]=function(e){return Q.status=e}),placeholder:"全部",style:{width:"150px"}},{default:m(function(){return[p(ue,{label:"合格",value:"qualified"}),p(ue,{label:"潜在",value:"temp"})]}),_:1},8,["modelValue"])]}),_:1}),p(re,null,{default:m(function(){return[p(i,{type:"primary",onClick:ne},{default:m(function(){return t(l[49]||(l[49]=[_("筛选",-1)]))}),_:1})]}),_:1})]}),_:1},8,["model"])]),p(ve,{data:W.value,border:"",style:{width:"100%"},height:"500"},{default:m(function(){return[p(be,{prop:"id",label:"序号",width:"60",fixed:""}),p(be,{label:"企业名称","min-width":"180"},{default:m(function(e){return[p(Z,{modelValue:e.row.enterprise_name,"onUpdate:modelValue":function(t){return e.row.enterprise_name=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"统一社会信用代码","min-width":"180"},{default:m(function(e){return[p(Z,{modelValue:e.row.credit_code,"onUpdate:modelValue":function(t){return e.row.credit_code=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"供应商类型","min-width":"120"},{default:m(function(e){return[p(oe,{modelValue:e.row.entry_type,"onUpdate:modelValue":function(t){return e.row.entry_type=t},size:"small"},{default:m(function(){return[p(ue,{label:"生产商",value:"manufacturing"}),p(ue,{label:"贸易商",value:"trading"})]}),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"供应品类","min-width":"120"},{default:m(function(e){return[p(oe,{modelValue:e.row.category,"onUpdate:modelValue":function(t){return e.row.category=t},size:"small"},{default:m(function(){return[p(ue,{label:"原材料",value:"raw"}),p(ue,{label:"电子元器件",value:"electronic"}),p(ue,{label:"办公用品",value:"office"})]}),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"合作区域","min-width":"120"},{default:m(function(e){return[p(Z,{modelValue:e.row.region,"onUpdate:modelValue":function(t){return e.row.region=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"合作行业","min-width":"120"},{default:m(function(e){return[p(oe,{modelValue:e.row.industry,"onUpdate:modelValue":function(t){return e.row.industry=t},size:"small"},{default:m(function(){return[p(ue,{label:"核电",value:"nuclear"}),p(ue,{label:"石化",value:"petrochemical"}),p(ue,{label:"军工",value:"military"}),p(ue,{label:"其他",value:"other"})]}),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"合作品牌","min-width":"120"},{default:m(function(e){return[p(Z,{modelValue:e.row.brand,"onUpdate:modelValue":function(t){return e.row.brand=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"联系人","min-width":"100"},{default:m(function(e){return[p(Z,{modelValue:e.row.contact_person,"onUpdate:modelValue":function(t){return e.row.contact_person=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"联系电话","min-width":"130"},{default:m(function(e){return[p(Z,{modelValue:e.row.mobile,"onUpdate:modelValue":function(t){return e.row.mobile=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"开户行","min-width":"150"},{default:m(function(e){return[p(Z,{modelValue:e.row.bank_name,"onUpdate:modelValue":function(t){return e.row.bank_name=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"开户行名称","min-width":"180"},{default:m(function(e){return[p(Z,{modelValue:e.row.branch_name,"onUpdate:modelValue":function(t){return e.row.branch_name=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"结算方式","min-width":"120"},{default:m(function(e){return[p(oe,{modelValue:e.row.settlement,"onUpdate:modelValue":function(t){return e.row.settlement=t},size:"small"},{default:m(function(){return[p(ue,{label:"月结30天",value:"m30"}),p(ue,{label:"预付",value:"prepay"}),p(ue,{label:"货到付款",value:"cod"})]}),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"采购员","min-width":"100"},{default:m(function(e){return[p(Z,{modelValue:e.row.purchaser,"onUpdate:modelValue":function(t){return e.row.purchaser=t},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"潜在或合格","min-width":"120"},{default:m(function(e){return[p(oe,{modelValue:e.row.status_base,"onUpdate:modelValue":function(t){return e.row.status_base=t},size:"small"},{default:m(function(){return[p(ue,{label:"潜在",value:"temp"}),p(ue,{label:"合格",value:"qualified"})]}),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"是否黑名单","min-width":"120"},{default:m(function(e){return[p(Z,{modelValue:e.row.is_blacklist_str,"onUpdate:modelValue":function(t){return e.row.is_blacklist_str=t},size:"small",placeholder:"输入是/否"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),p(be,{label:"操作",width:"80",fixed:"right"},{default:m(function(e){return[p(i,{type:"primary",size:"small",onClick:function(t){return ae(e.row)}},{default:m(function(){return t(l[50]||(l[50]=[_("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["data"])])):(g(),d("div",$,[f("div",N,[f("div",null,[p(Z,{placeholder:"搜索企业名称/联系人",style:{width:"250px","margin-right":"10px"},"prefix-icon":"Search",modelValue:Q.name,"onUpdate:modelValue":l[20]||(l[20]=function(e){return Q.name=e})},null,8,["modelValue"]),p(i,{type:"primary",onClick:ne},{default:m(function(){return t(l[52]||(l[52]=[_("搜索",-1)]))}),_:1})]),f("div",null,[p(i,{type:"success",plain:"",onClick:le},{default:m(function(){return t(l[53]||(l[53]=[_("导出 Excel",-1)]))}),_:1}),"temp"===n.value?(g(),v(i,{key:0,type:"primary",onClick:l[21]||(l[21]=function(e){n.value="apply",R.value=!0})},{default:m(function(){return t(l[54]||(l[54]=[_("+ 新增",-1)]))}),_:1})):s("",!0),"qualified"===n.value?(g(),v(i,{key:1,type:"primary",onClick:l[22]||(l[22]=function(e){n.value="apply",R.value=!1})},{default:m(function(){return t(l[55]||(l[55]=[_("+ 新增",-1)]))}),_:1})):s("",!0)])]),p(ve,{data:W.value,border:"",style:{width:"100%"}},{default:m(function(){return[p(be,{prop:"id",label:"序号",width:"60",fixed:""}),p(be,{prop:"name",label:"企业名称","min-width":"200",fixed:""}),"qualified"===n.value?(g(),v(be,{key:0,prop:"code",label:"统一社会信用代码",width:"180"})):s("",!0),p(be,{prop:"entry_type",label:"供应商类型",width:"110"}),p(be,{prop:"category",label:"供应品类",width:"100"}),"qualified"===n.value?(g(),v(be,{key:1,prop:"region",label:"合作区域",width:"100"})):s("",!0),p(be,{prop:"industry",label:"合作行业",width:"100"}),p(be,{prop:"brand",label:"合作品牌",width:"100"}),p(be,{prop:"contact",label:"联系人",width:"100"}),p(be,{prop:"mobile",label:"联系电话",width:"120"}),"qualified"===n.value?(g(),v(be,{key:2,prop:"bank_name",label:"开户行",width:"120"})):s("",!0),"qualified"===n.value?(g(),v(be,{key:3,prop:"branch_name",label:"开户行名称",width:"150"})):s("",!0),"qualified"===n.value?(g(),v(be,{key:4,prop:"settlement",label:"结算方式",width:"100"})):s("",!0),"qualified"===n.value?(g(),v(be,{key:5,prop:"purchaser",label:"采购员",width:"100"})):s("",!0),"blacklist"!==n.value?(g(),v(be,{key:6,label:"操作",width:"100",fixed:"right"},{default:m(function(){return[p(i,{link:"",type:"primary",size:"small"},{default:m(function(){return t(l[56]||(l[56]=[_("详情",-1)]))}),_:1})]}),_:1})):s("",!0)]}),_:1},8,["data"]),f("div",H,[p(he,{background:"",layout:"prev, pager, next",total:W.value.length},null,8,["total"])])]))])])]),J.value?(g(),d("div",M,[l[58]||(l[58]=f("h4",null,"功能更新说明",-1)),l[59]||(l[59]=f("p",null,[_("1. 侧边栏已更新为5项，包含"),f("b",null,'"供应商变更"'),_("。")],-1)),l[60]||(l[60]=f("p",null,'2. "供应商申请"已更新字段（红色星号为必填）。',-1)),l[61]||(l[61]=f("p",null,'3. "供应商变更"页支持筛选和信息修改/拉黑。',-1)),p(i,{size:"small",onClick:l[23]||(l[23]=function(e){return J.value=!1})},{default:m(function(){return t(l[57]||(l[57]=[_("知道了",-1)]))}),_:1})])):s("",!0)])}}};e("default",U(J,[["__scopeId","data-v-83e06ca4"]]))}}})}();
