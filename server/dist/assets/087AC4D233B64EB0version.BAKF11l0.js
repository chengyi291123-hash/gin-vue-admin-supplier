/*! 
 Build based on gin-vue-admin 
 Time : 1763897842000 */
import{s as e,P as l,a,W as t,g as o,c as r,o as d,b as s,f as n,w as u,d as i,h as c,F as v,i as p,m as f,t as m,q as y,ad as h,I as b,E as x,k as g,bf as w}from"./087AC4D233B64EB0index.0P5tyZxh.js";import{g as k}from"./087AC4D233B64EB0api.1yO5e0nq.js";import{g as _}from"./087AC4D233B64EB0sysDictionary.C2dGagcU.js";import{_ as V}from"./087AC4D233B64EB0_plugin-vue_export-helper.BCo6x5W8.js";const C={class:"gva-search-box"},I={class:"gva-table-box"},j={class:"gva-btn-list"},D={class:"gva-pagination"},N={class:"flex justify-between items-center"},O={class:"flex gap-3 w-full"},S={class:"flex flex-col border border-gray-300 rounded overflow-hidden h-full flex-1 w-1/3"},z={class:"px-4 py-3 border-b border-gray-300 bg-gray-50"},U={class:"flex-1 p-2 min-h-[300px] max-h-[400px] overflow-y-auto"},B={class:"flex-1 flex items-center justify-between text-sm pr-2"},J={class:"flex flex-col border border-gray-300 rounded overflow-hidden h-full flex-1 w-1/3"},A={class:"px-4 py-3 border-b border-gray-300 bg-gray-50"},R={class:"flex-1 p-2 min-h-[300px] max-h-[400px] overflow-y-auto"},T={class:"flex items-center justify-between w-full pr-1"},E={class:"max-w-[240px] break-all overflow-ellipsis overflow-hidden"},F={class:"flex flex-col border border-gray-300 rounded overflow-hidden h-full flex-1 w-1/3"},K={class:"px-4 py-3 border-b border-gray-300 bg-gray-50"},L={class:"flex-1 p-2 min-h-[300px] max-h-[400px] overflow-y-auto"},P={class:"flex items-center justify-between w-full pr-1"},q={class:"text-gray-500 text-xs ml-2"},G={class:"flex justify-between items-center"},W={class:"flex flex-col flex-1 gap-4 border border-gray-300 rounded p-4 bg-gray-50"},Q={class:"flex gap-3 w-full"},H={class:"border border-gray-300 rounded overflow-hidden flex-1 w-1/3"},M={class:"flex flex-col border border-gray-300 rounded overflow-hidden h-full"},X={class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-b border-gray-300"},Y={class:"m-0 text-gray-800 text-base font-medium"},Z={class:"flex-1 p-2 min-h-[300px] max-h-[400px] overflow-y-auto"},$={class:"flex-1 flex items-center justify-between text-sm pr-2"},ee={class:"text-gray-500 text-xs ml-2"},le={class:"border border-gray-300 rounded overflow-hidden flex-1 w-1/3"},ae={class:"flex flex-col border border-gray-300 rounded overflow-hidden h-full"},te={class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-b border-gray-300"},oe={class:"m-0 text-gray-800 text-base font-medium"},re={class:"flex-1 p-2 min-h-[300px] max-h-[400px] overflow-y-auto"},de={class:"flex-1 flex items-center justify-between text-sm pr-2"},se={class:"text-gray-500 text-xs ml-2"},ne={class:"border border-gray-300 rounded overflow-hidden flex-1 w-1/3"},ue={class:"flex flex-col border border-gray-300 rounded overflow-hidden h-full"},ie={class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-b border-gray-300"},ce={class:"m-0 text-gray-800 text-base font-medium"},ve={class:"flex-1 p-2 min-h-[300px] max-h-[400px] overflow-y-auto"},pe={class:"flex-1 flex items-center justify-between text-sm pr-2"},fe={class:"text-gray-500 text-xs ml-2"},me=V(Object.assign({name:"SysVersion"},{__name:"version",setup(V){const me=l(),ye=a(!1),he=a(!1),be=a(!1),xe=a({versionName:"",versionCode:"",description:"",menuIds:[],apiIds:[],dictIds:[]}),ge=a([]),we=a([]),ke=a([]),_e=a([]),Ve=a([]),Ce=a([]),Ie=a(""),je=a(""),De=a(""),Ne=a(""),Oe=a(null),Se=a(null),ze=a(null),Ue=a({children:"children",label:function(e){var l;return(null==(l=e.meta)?void 0:l.title)||e.title}}),Be=a({children:"children",label:"description"}),Je=a({children:"sysDictionaryDetails",label:function(e){return e.name?e.name:e.label?e.label:"未知项"}}),Ae=a(!1),Re=a(!1),Te=a(""),Ee=a(null),Fe=a(null),Ke=a([]),Le=a([]),Pe=a([]),qe=a(),Ge=a(1),We=a(0),Qe=a(10),He=a([]),Me=a({}),Xe=()=>{Me.value={},el()},Ye=()=>{var e;null==(e=qe.value)||e.validate(async e=>{e&&(Ge.value=1,el())})},Ze=e=>{Qe.value=e,el()},$e=e=>{Ge.value=e,el()},el=async()=>{const l=await(a={page:Ge.value,pageSize:Qe.value,...Me.value},e({url:"/sysVersion/getSysVersionList",method:"get",params:a}));var a;0===l.code&&(He.value=l.data.list,We.value=l.data.total,Ge.value=l.data.page,Qe.value=l.data.pageSize)};el();const ll=a([]),al=e=>{ll.value=e},tl=async()=>{g.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const l=[];if(0===ll.value.length)return void x({type:"warning",message:"请选择要删除的数据"});ll.value&&ll.value.map(e=>{l.push(e.ID)});var a;0===(await(a={IDs:l},e({url:"/sysVersion/deleteSysVersionByIds",method:"delete",params:a}))).code&&(x({type:"success",message:"删除成功"}),He.value.length===l.length&&Ge.value>1&&Ge.value--,el())})},ol=async l=>{var a;0===(await(a={ID:l.ID},e({url:"/sysVersion/deleteSysVersion",method:"delete",params:a}))).code&&(x({type:"success",message:"删除成功"}),1===He.value.length&&Ge.value>1&&Ge.value--,el())},rl=a({}),dl=a(!1),sl=async l=>{const a=await(t={ID:l.ID},e({url:"/sysVersion/findSysVersion",method:"get",params:t}));var t;0===a.code&&(rl.value=a.data,dl.value=!0)},nl=()=>{dl.value=!1,rl.value={}},ul=e=>{const l={};e.forEach(e=>{e.onlyId="p:"+e.path+"m:"+e.method,Object.prototype.hasOwnProperty.call(l,e.apiGroup)?l[e.apiGroup].push(e):Object.assign(l,{[e.apiGroup]:[e]})});const a=[];for(const t in l){const e={ID:t,description:t+"组",children:l[t]};a.push(e)}return a},il=(e,l)=>{var a;if(!e)return!0;return-1!==((null==(a=l.meta)?void 0:a.title)||l.title||"").indexOf(e)},cl=(e,l)=>{if(!je.value&&!De.value)return!0;let a,t;return a=!je.value||l.description&&l.description.includes(je.value),t=!De.value||l.path&&l.path.includes(De.value),a&&t},vl=(e,l)=>{if(!e)return!0;const a=l.name||"",t=l.type||"",o=l.desc||"",r=l.label||"",d=l.value||"";return-1!==a.indexOf(e)||-1!==t.indexOf(e)||-1!==o.indexOf(e)||-1!==r.indexOf(e)||-1!==d.indexOf(e)},pl=(e,l)=>{l.checkedKeys&&(_e.value=l.checkedKeys)},fl=(e,l)=>{l.checkedKeys&&(Ve.value=l.checkedKeys)},ml=(e,l)=>{l.checkedKeys&&(Ce.value=l.checkedKeys)};t(Ie,e=>{Oe.value&&Oe.value.filter(e)}),t([je,De],()=>{Se.value&&Se.value.filter("")}),t(Ne,e=>{ze.value&&ze.value.filter(e)});const yl=async()=>{he.value=!0,await(async()=>{try{const e=await w();0===e.code&&(ge.value=e.data||[]);const l=await k({page:1,pageSize:9999});if(0===l.code){const e=l.data.list||[];we.value=ul(e)}}catch(e){x.error("获取菜单或API数据失败")}})(),await(async()=>{try{const e=await _({page:1,pageSize:9999});0===e.code&&(ke.value=e.data||[])}catch(e){x.error("获取字典数据失败")}})()},hl=()=>{he.value=!1,xe.value={versionName:"",versionCode:"",description:"",menuIds:[],apiIds:[],dictIds:[]},_e.value=[],Ve.value=[],Ce.value=[],Ie.value="",je.value="",De.value="",Ne.value=""},bl=async()=>{if(xe.value.versionName&&xe.value.versionCode){be.value=!0;try{const a=Oe.value?Oe.value.getCheckedNodes(!1,!0):[],t=Se.value?Se.value.getCheckedNodes(!0):[],o=ze.value?ze.value.getCheckedNodes(!0):[],r=a.map(e=>e.ID),d=t.map(e=>e.ID),s=o.map(e=>e.ID);xe.value.menuIds=r,xe.value.apiIds=d,xe.value.dictIds=s;const n=await(l=xe.value,e({url:"/sysVersion/exportVersion",method:"post",data:l}));if(0!==n.code)return void x.error(n.msg||"创建发版失败");x.success("创建发版成功"),hl(),el()}catch(a){x.error("创建发版失败")}finally{be.value=!1}var l}else x.warning("请填写版本名称和版本号")},xl=()=>{Ae.value=!0},gl=()=>{Ae.value=!1,Te.value="",Ee.value=null,Ke.value=[],Le.value=[],Fe.value&&Fe.value.clearFiles()},wl=e=>{if(!e.raw)return;if(!e.name.toLowerCase().endsWith(".json"))return x.error("只能上传JSON文件"),void Fe.value.clearFiles();const l=new FileReader;l.onload=e=>{try{const l=e.target.result;JSON.parse(l),Te.value=l,Vl(),x.success("文件上传成功")}catch(l){x.error("JSON文件格式错误"),Fe.value.clearFiles()}},l.readAsText(e.raw)},kl=()=>{Te.value="",Ee.value=null,Ke.value=[],Le.value=[]},_l=()=>{var e;if(!(null==(e=Ee.value)?void 0:e.menus))return 0;const l=e=>{let a=0;return e.forEach(e=>{a+=1,e.children&&e.children.length>0&&(a+=l(e.children))}),a};return l(Ee.value.menus)},Vl=()=>{if(!Te.value.trim())return Ee.value=null,Ke.value=[],Le.value=[],void(Pe.value=[]);try{const e=JSON.parse(Te.value);if(Ee.value={menus:e.menus||[],apis:e.apis||[],dictionaries:e.dictionaries||[]},e.menus&&e.menus.length>0?Ke.value=e.menus:Ke.value=[],e.apis&&e.apis.length>0){const l={};e.apis.forEach(e=>{const a=e.apiGroup||"未分组";l[a]||(l[a]={ID:"group_".concat(a),description:a,path:"",method:"",children:[]}),l[a].children.push(e)}),Le.value=Object.values(l)}else Le.value=[];e.dictionaries&&e.dictionaries.length>0?Pe.value=e.dictionaries:Pe.value=[]}catch(e){Ee.value=null,Ke.value=[],Le.value=[],Pe.value=[]}},Cl=async()=>{if(Te.value.trim()){try{JSON.parse(Te.value)}catch(l){return void x.error("JSON格式错误，请检查输入内容")}Re.value=!0;try{const l=JSON.parse(Te.value),a=await(l=>e({url:"/sysVersion/importVersion",method:"post",data:l}))(l);0===a.code?(x.success("导入成功"),gl(),el()):x.error(a.msg||"导入失败")}catch(l){x.error("导入失败")}finally{Re.value=!1}}else x.warning("请输入版本JSON")},Il=async l=>{try{const t=await(a={ID:l.ID},e({url:"/sysVersion/downloadVersionJson",method:"get",params:a,responseType:"blob"}));let o;o=t instanceof Blob?t:t.data instanceof Blob?t.data:t;const r=window.URL.createObjectURL(o),d=document.createElement("a");d.href=r,d.download="".concat(l.versionName,"_").concat(l.versionCode,".json"),document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(r),x.success("下载成功")}catch(t){x.error("下载失败")}var a};return(e,l)=>{const a=o("QuestionFilled"),t=o("el-icon"),x=o("el-tooltip"),w=o("el-date-picker"),k=o("el-form-item"),_=o("el-input"),V=o("el-button"),el=o("el-form"),ul=o("el-table-column"),jl=o("InfoFilled"),Dl=o("el-table"),Nl=o("el-pagination"),Ol=o("el-descriptions-item"),Sl=o("el-descriptions"),zl=o("el-drawer"),Ul=o("el-tree"),Bl=o("el-upload");return d(),r("div",null,[s("div",C,[n(el,{ref_key:"elSearchFormRef",ref:qe,inline:!0,model:Me.value,class:"demo-form-inline",onKeyup:f(Ye,["enter"])},{default:u(()=>[n(k,{label:"创建日期",prop:"createdAtRange"},{label:u(()=>[s("span",null,[l[16]||(l[16]=c(" 创建日期 ",-1)),n(x,{content:"搜索范围是开始日期（包含）至结束日期（不包含）"},{default:u(()=>[n(t,null,{default:u(()=>[n(a)]),_:1})]),_:1})])]),default:u(()=>[n(w,{modelValue:Me.value.createdAtRange,"onUpdate:modelValue":l[0]||(l[0]=e=>Me.value.createdAtRange=e),class:"w-[380px]",type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),n(k,{label:"版本名称",prop:"versionName"},{default:u(()=>[n(_,{modelValue:Me.value.versionName,"onUpdate:modelValue":l[1]||(l[1]=e=>Me.value.versionName=e),placeholder:"搜索条件"},null,8,["modelValue"])]),_:1}),n(k,{label:"版本号",prop:"versionCode"},{default:u(()=>[n(_,{modelValue:Me.value.versionCode,"onUpdate:modelValue":l[2]||(l[2]=e=>Me.value.versionCode=e),placeholder:"搜索条件"},null,8,["modelValue"])]),_:1}),ye.value?(d(),r(v,{key:0},[],64)):i("",!0),n(k,null,{default:u(()=>[n(V,{type:"primary",icon:"search",onClick:Ye},{default:u(()=>[...l[17]||(l[17]=[c("查询",-1)])]),_:1}),n(V,{icon:"refresh",onClick:Xe},{default:u(()=>[...l[18]||(l[18]=[c("重置",-1)])]),_:1}),ye.value?(d(),p(V,{key:1,link:"",type:"primary",icon:"arrow-up",onClick:l[4]||(l[4]=e=>ye.value=!1)},{default:u(()=>[...l[20]||(l[20]=[c("收起",-1)])]),_:1})):(d(),p(V,{key:0,link:"",type:"primary",icon:"arrow-down",onClick:l[3]||(l[3]=e=>ye.value=!0)},{default:u(()=>[...l[19]||(l[19]=[c("展开",-1)])]),_:1}))]),_:1})]),_:1},8,["model"])]),s("div",I,[s("div",j,[n(V,{type:"success",icon:"download",onClick:yl},{default:u(()=>[...l[21]||(l[21]=[c("创建发版",-1)])]),_:1}),n(V,{type:"warning",icon:"upload",onClick:xl},{default:u(()=>[...l[22]||(l[22]=[c("导入版本",-1)])]),_:1}),n(V,{icon:"delete",style:{"margin-left":"10px"},disabled:!ll.value.length,onClick:tl},{default:u(()=>[...l[23]||(l[23]=[c("删除",-1)])]),_:1},8,["disabled"])]),n(Dl,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:He.value,"row-key":"ID",onSelectionChange:al},{default:u(()=>[n(ul,{type:"selection",width:"55"}),n(ul,{sortable:"",align:"left",label:"日期",prop:"CreatedAt",width:"180"},{default:u(e=>[c(m(y(h)(e.row.CreatedAt)),1)]),_:1}),n(ul,{align:"left",label:"版本名称",prop:"versionName",width:"120"}),n(ul,{align:"left",label:"版本号",prop:"versionCode",width:"120"}),n(ul,{align:"left",label:"操作",fixed:"right","min-width":"320"},{default:u(e=>[n(V,{type:"primary",link:"",class:"table-button",onClick:l=>sl(e.row)},{default:u(()=>[n(t,{style:{"margin-right":"5px"}},{default:u(()=>[n(jl)]),_:1}),l[24]||(l[24]=c("查看",-1))]),_:1},8,["onClick"]),n(V,{type:"success",link:"",icon:"download",class:"table-button",onClick:l=>Il(e.row)},{default:u(()=>[...l[25]||(l[25]=[c("下载发版包",-1)])]),_:1},8,["onClick"]),n(V,{type:"primary",link:"",icon:"delete",onClick:l=>{return a=e.row,void g.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{ol(a)});var a}},{default:u(()=>[...l[26]||(l[26]=[c("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),s("div",D,[n(Nl,{layout:"total, sizes, prev, pager, next, jumper","current-page":Ge.value,"page-size":Qe.value,"page-sizes":[10,30,50,100],total:We.value,onCurrentChange:$e,onSizeChange:Ze},null,8,["current-page","page-size","total"])])]),n(zl,{"destroy-on-close":"",size:y(me).drawerSize,modelValue:dl.value,"onUpdate:modelValue":l[5]||(l[5]=e=>dl.value=e),"show-close":!0,"before-close":nl,title:"查看"},{default:u(()=>[n(Sl,{column:1,border:""},{default:u(()=>[n(Ol,{label:"版本名称"},{default:u(()=>[c(m(rl.value.versionName),1)]),_:1}),n(Ol,{label:"版本号"},{default:u(()=>[c(m(rl.value.versionCode),1)]),_:1}),n(Ol,{label:"版本描述"},{default:u(()=>[c(m(rl.value.description),1)]),_:1})]),_:1})]),_:1},8,["size","modelValue"]),n(zl,{modelValue:he.value,"onUpdate:modelValue":l[13]||(l[13]=e=>he.value=e),title:"创建发版",direction:"rtl",size:"80%","before-close":hl,"show-close":!1},{header:u(()=>[s("div",N,[l[29]||(l[29]=s("span",{class:"text-lg"},"创建发版",-1)),s("div",null,[n(V,{onClick:hl},{default:u(()=>[...l[27]||(l[27]=[c("取消",-1)])]),_:1}),n(V,{type:"primary",onClick:bl,loading:be.value},{default:u(()=>[...l[28]||(l[28]=[c("创建发版",-1)])]),_:1},8,["loading"])])])]),default:u(()=>[n(el,{model:xe.value,"label-width":"100px"},{default:u(()=>[n(k,{label:"版本名称",required:""},{default:u(()=>[n(_,{modelValue:xe.value.versionName,"onUpdate:modelValue":l[6]||(l[6]=e=>xe.value.versionName=e),placeholder:"请输入版本名称"},null,8,["modelValue"])]),_:1}),n(k,{label:"版本号",required:""},{default:u(()=>[n(_,{modelValue:xe.value.versionCode,"onUpdate:modelValue":l[7]||(l[7]=e=>xe.value.versionCode=e),placeholder:"请输入版本号"},null,8,["modelValue"])]),_:1}),n(k,{label:"版本描述"},{default:u(()=>[n(_,{modelValue:xe.value.description,"onUpdate:modelValue":l[8]||(l[8]=e=>xe.value.description=e),type:"textarea",placeholder:"请输入版本描述"},null,8,["modelValue"])]),_:1}),n(k,{label:"发版信息"},{default:u(()=>[s("div",O,[s("div",S,[l[30]||(l[30]=s("div",{class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-b border-gray-300"},[s("span",{class:"m-0 text-gray-800 text-base font-medium"},"选择菜单")],-1)),s("div",z,[n(_,{modelValue:Ie.value,"onUpdate:modelValue":l[9]||(l[9]=e=>Ie.value=e),placeholder:"输入关键字进行过滤",clearable:"",size:"small"},null,8,["modelValue"])]),s("div",U,[n(Ul,{ref_key:"menuTreeRef",ref:Oe,data:ge.value,"default-checked-keys":_e.value,props:Ue.value,"default-expand-all":"","highlight-current":"","node-key":"ID","show-checkbox":"","filter-node-method":il,onCheck:pl,class:"menu-tree"},{default:u(({node:e})=>[s("span",B,[s("span",null,m(e.label),1)])]),_:1},8,["data","default-checked-keys","props"])])]),s("div",J,[l[31]||(l[31]=s("div",{class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-b border-gray-300"},[s("span",{class:"m-0 text-gray-800 text-base font-medium"},"选择API")],-1)),s("div",A,[n(_,{modelValue:je.value,"onUpdate:modelValue":l[10]||(l[10]=e=>je.value=e),placeholder:"按名称过滤",clearable:"",size:"small",style:{"margin-bottom":"8px"}},null,8,["modelValue"]),n(_,{modelValue:De.value,"onUpdate:modelValue":l[11]||(l[11]=e=>De.value=e),placeholder:"按路径过滤",clearable:"",size:"small"},null,8,["modelValue"])]),s("div",R,[n(Ul,{ref_key:"apiTreeRef",ref:Se,data:we.value,"default-checked-keys":Ve.value,props:Be.value,"default-expand-all":"","highlight-current":"","node-key":"onlyId","show-checkbox":"","filter-node-method":cl,onCheck:fl,class:"api-tree"},{default:u(({data:e})=>[s("div",T,[s("span",null,m(e.description),1),n(x,{content:e.path},{default:u(()=>[s("span",E,m(e.path),1)]),_:2},1032,["content"])])]),_:1},8,["data","default-checked-keys","props"])])]),s("div",F,[l[32]||(l[32]=s("div",{class:"flex justify-between items-center px-4 py-3 bg-gray-50 border-b border-gray-300"},[s("span",{class:"m-0 text-gray-800 text-base font-medium"},"选择字典")],-1)),s("div",K,[n(_,{modelValue:Ne.value,"onUpdate:modelValue":l[12]||(l[12]=e=>Ne.value=e),placeholder:"输入关键字进行过滤",clearable:"",size:"small"},null,8,["modelValue"])]),s("div",L,[n(Ul,{ref_key:"dictTreeRef",ref:ze,data:ke.value,"default-checked-keys":Ce.value,props:Je.value,"default-expand-all":"","highlight-current":"","node-key":"ID","show-checkbox":"","filter-node-method":vl,onCheck:ml,class:"dict-tree"},{default:u(({data:e})=>[s("div",P,[s("span",null,m(e.name||e.label),1),n(x,{content:e.desc||(e.value?"值: ".concat(e.value):"")},{default:u(()=>[s("span",q,m(e.type||(e.value?"值: ".concat(e.value):"")),1)]),_:2},1032,["content"])])]),_:1},8,["data","default-checked-keys","props"])])])])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),n(zl,{modelValue:Ae.value,"onUpdate:modelValue":l[15]||(l[15]=e=>Ae.value=e),title:"导入版本",direction:"rtl",size:"80%","before-close":gl,"show-close":!1},{header:u(()=>[s("div",G,[l[35]||(l[35]=s("span",{class:"text-lg"},"导入版本",-1)),s("div",null,[n(V,{onClick:gl},{default:u(()=>[...l[33]||(l[33]=[c("取消",-1)])]),_:1}),n(V,{type:"primary",onClick:Cl,loading:Re.value,disabled:!Te.value.trim()},{default:u(()=>[...l[34]||(l[34]=[c("导入",-1)])]),_:1},8,["loading","disabled"])])])]),default:u(()=>[n(el,{"label-width":"100px"},{default:u(()=>[n(k,{label:"上传文件"},{default:u(()=>[n(Bl,{ref_key:"uploadRef",ref:Fe,"auto-upload":!1,"show-file-list":!0,limit:1,accept:".json","on-change":wl,"on-remove":kl,drag:""},{tip:u(()=>[...l[36]||(l[36]=[s("div",{class:"el-upload__tip"}," 只能上传JSON文件 ",-1)])]),default:u(()=>[n(t,{class:"el-icon--upload"},{default:u(()=>[n(y(b))]),_:1}),l[37]||(l[37]=s("div",{class:"el-upload__text"},[c(" 将JSON文件拖到此处，或"),s("em",null,"点击上传")],-1))]),_:1},512)]),_:1}),n(k,{label:"版本JSON"},{default:u(()=>[n(_,{modelValue:Te.value,"onUpdate:modelValue":l[14]||(l[14]=e=>Te.value=e),type:"textarea",rows:20,placeholder:"请粘贴版本JSON",onInput:Vl},null,8,["modelValue"])]),_:1}),Ee.value?(d(),p(k,{key:0,label:"预览内容"},{default:u(()=>{var e,l;return[s("div",W,[s("div",Q,[s("div",H,[s("div",M,[s("div",X,[s("h3",Y,"菜单 ("+m(_l())+"项)",1)]),s("div",Z,[n(Ul,{data:Ke.value,props:Ue.value,"node-key":"name","expand-on-click-node":!1,"check-on-click-node":!1,"show-checkbox":!1,"default-expand-all":""},{default:u(({data:e})=>{var l;return[s("div",$,[s("span",null,m((null==(l=e.meta)?void 0:l.title)||e.title),1),s("span",ee,m(e.path),1)])]}),_:1},8,["data","props"])])])]),s("div",le,[s("div",ae,[s("div",te,[s("h3",oe,"API ("+m((null==(e=Ee.value.apis)?void 0:e.length)||0)+"项)",1)]),s("div",re,[n(Ul,{data:Le.value,props:Be.value,"node-key":"ID","expand-on-click-node":!1,"check-on-click-node":!1,"show-checkbox":!1,"default-expand-all":""},{default:u(({data:e})=>[s("div",de,[s("span",null,m(e.description),1),s("span",se,m(e.path)+" ["+m(e.method)+"]",1)])]),_:1},8,["data","props"])])])]),s("div",ne,[s("div",ue,[s("div",ie,[s("h3",ce,"字典 ("+m((null==(l=Ee.value.dictionaries)?void 0:l.length)||0)+"项)",1)]),s("div",ve,[n(Ul,{data:Pe.value,props:Je.value,"node-key":"ID","expand-on-click-node":!1,"check-on-click-node":!1,"show-checkbox":!1,"default-expand-all":""},{default:u(({data:e})=>[s("div",pe,[s("span",null,m(e.name||e.label),1),s("span",fe,m(e.type||(e.value?"值: ".concat(e.value):"")),1)])]),_:1},8,["data","props"])])])])])])]}),_:1})):i("",!0)]),_:1})]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-c96d04dc"]]);export{me as default};
