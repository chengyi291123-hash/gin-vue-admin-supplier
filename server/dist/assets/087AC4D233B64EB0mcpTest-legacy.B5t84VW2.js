/*! 
 Build based on gin-vue-admin 
 Time : 1763897842000 */
!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return l(s,"_invoke",function(r,n,o){var a,u,l,c=0,s=o||[],p=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,u=0,l=e,f.n=r,i}};function d(r,n){for(u=r,l=n,t=0;!p&&c&&!o&&t<s.length;t++){var o,a=s[t],d=f.p,m=a[2];r>3?(o=m===n)&&(l=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(u=0,f.v=n,f.n=a[1]):d<m&&(o=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,f.n=m,u=0))}if(o||r>1)return i;throw p=!0,n}return function(o,s,m){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&d(s,m),u=s,l=m;(t=u<2?e:l)||!p;){a||(u?u<3?(u>1&&(f.n=-1),d(u,l)):f.n=l:f.v=l);try{if(c=2,a){if(u||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=a.return)&&t.call(a),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((t=(p=f.n<0)?l:r.call(n,f))!==i)break}catch(t){a=e,u=1,l=t}finally{c=1}}return{value:t,done:p}}}(r,o,a),!0),s}var i={};function c(){}function s(){}function p(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(l(t={},n,function(){return this}),t),d=p.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=p,l(d,"constructor",p),l(p,"constructor",s),s.displayName="GeneratorFunction",l(p,o,"GeneratorFunction"),l(d),l(d,o,"Generator"),l(d,n,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:m}})()}function l(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,r,n){function a(t,r){l(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},l(e,t,r,n)}function i(e,t,r,n,o,a,u){try{var l=e[a](u),i=l.value}catch(e){return void r(e)}l.done?t(i):Promise.resolve(i).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,l,"next",e)}function l(e){i(a,n,o,u,l,"throw",e)}u(void 0)})}}System.register(["./087AC4D233B64EB0index-legacy.C50Wt4sy.js","./087AC4D233B64EB0autoCode-legacy.CV1S-bm5.js"],function(e,r){"use strict";var n,a,l,i,s,p,f,d,m,y,v,b,h,g,w,x,S,O,j,k,V;return{setters:[function(e){n=e.a,a=e.r,l=e.v,i=e.g,s=e.c,p=e.o,f=e.f,d=e.w,m=e.b,y=e.t,v=e.q,b=e.bt,h=e.F,g=e.H,w=e.i,x=e.d,S=e.b2,O=e.h,j=e.E},function(e){k=e.i,V=e.j}],execute:function(){var r={class:"p-2"},P={class:"flex justify-between items-center font-bold"},_={class:"font-mono whitespace-pre-wrap break-words bg-gray-100 p-2.5 rounded text-gray-700"},E={class:"flex justify-between items-center font-bold"},C={class:"text-sm mb-1"},T={key:0,class:"mt-1 text-xs overflow-y-auto max-h-[100px] p-2 border-t border-gray-200 bg-gray-50 rounded-b"},U={class:"font-semibold mb-1 text-gray-700 flex items-center"},A={class:"text-xs text-gray-500"},N={class:"space-y-2"},G={class:"flex items-center justify-between"},J={class:"flex items-center"},q={class:"font-medium text-gray-800"},D={key:0,class:"ml-1 text-red-500 text-xs"},F={class:"text-xs px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded"},I=["title"],B={key:1,class:"mt-1 text-xs p-2 border-t border-gray-200 bg-gray-50 rounded-b flex items-center justify-center"},M={key:1,class:"mt-5 p-[15px] border border-gray-200 rounded bg-gray-50"},R={key:0},z={class:"bg-gray-100 p-2.5 rounded whitespace-pre-wrap break-words overflow-y-auto"},H={key:1},$={key:2},K={class:"bg-gray-100 p-2.5 rounded whitespace-pre-wrap break-words overflow-y-auto"},L={key:3},Q={class:"bg-gray-100 p-2.5 rounded whitespace-pre-wrap break-words overflow-y-auto"},W={class:"dialog-footer"};e("default",Object.assign({name:"MCPTest"},{__name:"mcpTest",setup:function(e){var X=n([]),Y=n(!1),Z=n(null),ee=a({}),te=n(null),re=n(null),ne=n(JSON.stringify({mcpServers:{gva:{url:"https://127.0.0.1/sse"}}},null,2)),oe=function(){var e=c(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,k();case 1:0===(t=e.v).code&&t.data&&t.data.list.tools?(X.value=t.data.list.tools,ne.value=JSON.stringify(t.data.mcpServerConfig,null,2)):j.error(t.msg||"获取工具列表失败或数据格式不正确");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();l(function(){oe()});var ae=function(){var e=c(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(ne.value);case 1:j.success("配置已复制到剪贴板"),e.n=3;break;case 2:e.p=2,t=e.v,j.error("复制失败: "+t);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ue=function(e){re.value=null,e()},le=function(){var e=c(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:if(Z.value){e.n=1;break}return j.warning("没有选中的测试工具"),e.a(2);case 1:te.value&&te.value.validate(function(){var e=c(u().m(function e(t){var r,n,a;return u().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=2;break}return r=Z.value.name,n=o({},ee),Z.value.inputSchema&&Z.value.inputSchema.properties&&Object.keys(Z.value.inputSchema.properties).forEach(function(e){var t=Z.value.inputSchema.properties[e];if(("object"===t.type||"array"===t.type)&&n[e]&&"string"==typeof n[e])try{n[e]=JSON.parse(n[e])}catch(r){throw j.error("参数 ".concat(e," 的JSON格式无效: ").concat(r.message)),new Error("参数 ".concat(e," JSON无效"))}}),e.n=1,V({name:r,arguments:n});case 1:a=e.v,re.value=a.data,0===a.code&&j.success("API调用成功");case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){var o=i("el-button"),a=i("el-tooltip"),u=i("el-card"),l=i("el-col"),c=i("el-row"),j=i("el-input"),k=i("el-option"),V=i("el-select"),oe=i("el-form-item"),ie=i("el-form"),ce=i("el-image"),se=i("el-dialog");return p(),s("div",r,[f(u,{class:"mb-2"},{header:d(function(){return[m("div",P,[n[2]||(n[2]=m("span",null,"MCP 服务器配置示例",-1)),f(a,{content:"复制配置",placement:"top"},{default:d(function(){return[f(o,{icon:v(b),circle:"",onClick:ae},null,8,["icon"])]}),_:1})])]}),default:d(function(){return[m("pre",_,y(ne.value),1)]}),_:1}),f(c,{gutter:8},{default:d(function(){return[(p(!0),s(h,null,g(X.value,function(e){return p(),w(l,{key:e.name,xs:24,sm:12,md:12,lg:8},{default:d(function(){return[f(u,{class:"mb-5 min-h-[150px] flex flex-col overflow-hidden"},{header:d(function(){return[m("div",E,[m("span",null,y(e.name),1),f(a,{content:"测试工具",placement:"top"},{default:d(function(){return[f(o,{icon:v(S),circle:"",onClick:function(t){return function(e){for(var t in Z.value=e,re.value=null,ee)delete ee[t];e.inputSchema&&e.inputSchema.properties&&Object.keys(e.inputSchema.properties).forEach(function(t){var r=e.inputSchema.properties[t];void 0!==r.default?ee[t]=r.default:"boolean"===r.type?ee[t]=!1:"number"===r.type?ee[t]=null:("object"===r.type||r.type,ee[t]="")}),Y.value=!0,te.value&&te.value.clearValidate()}(e)}},null,8,["icon","onClick"])]}),_:2},1024)])]}),default:d(function(){return[m("div",C,y(e.description),1),e.inputSchema&&e.inputSchema.properties&&Object.keys(e.inputSchema.properties).length>0?(p(),s("div",T,[m("p",U,[n[3]||(n[3]=m("span",{class:"mr-1 my-2"},"参数列表",-1)),m("span",A,"("+y(Object.keys(e.inputSchema.properties).length)+")",1)]),m("div",N,[(p(!0),s(h,null,g(e.inputSchema.properties,function(t,r){return p(),s("div",{key:r,class:"flex flex-col p-1.5 bg-white rounded border border-gray-100 hover:border-gray-300 transition-colors"},[m("div",G,[m("div",J,[m("span",q,y(r),1),e.inputSchema.required&&e.inputSchema.required.includes(r)?(p(),s("span",D,"*")):x("",!0)]),m("span",F,y(t.type),1)]),m("div",{class:"text-gray-500 mt-0.5 text-xs line-clamp-2",title:t.description||"无描述"},y(t.description||"无描述"),9,I)])}),128))])])):(p(),s("div",B,t(n[4]||(n[4]=[m("span",{class:"text-gray-500 italic py-3"},"无输入参数",-1)]))))]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1}),f(se,{modelValue:Y.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Y.value=e}),title:Z.value?"".concat(Z.value.name," - 参数测试"):"参数测试",width:"60%","before-close":ue},{footer:d(function(){return[m("span",W,[f(o,{onClick:n[0]||(n[0]=function(e){return Y.value=!1})},{default:d(function(){return t(n[6]||(n[6]=[O("取消",-1)]))}),_:1}),f(o,{type:"primary",onClick:le},{default:d(function(){return t(n[7]||(n[7]=[O("测试",-1)]))}),_:1})])]}),default:d(function(){return[Z.value?(p(),w(ie,{key:0,model:ee,ref_key:"testParamsFormRef",ref:te,"label-width":"120px","label-position":"top",class:"max-h-[calc(60vh-120px)] overflow-y-auto"},{default:d(function(){return[(p(!0),s(h,null,g(Z.value.inputSchema.properties,function(e,t){return p(),w(oe,{key:t,label:e.description||t,prop:t,rules:Z.value.inputSchema.required&&Z.value.inputSchema.required.includes(t)?[{required:!0,message:"请输入 "+(e.description||t),trigger:"blur"}]:[]},{default:d(function(){return["string"!==e.type||e.enum?"number"===e.type?(p(),w(j,{key:1,modelValue:ee[t],"onUpdate:modelValue":function(e){return ee[t]=e},modelModifiers:{number:!0},type:"number",placeholder:e.description||"请输入数字"+t},null,8,["modelValue","onUpdate:modelValue","placeholder"])):"boolean"===e.type?(p(),w(V,{key:2,modelValue:ee[t],"onUpdate:modelValue":function(e){return ee[t]=e},placeholder:e.description||"请选择"},{default:d(function(){return[f(k,{label:"True",value:!0}),f(k,{label:"False",value:!1})]}),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])):"string"===e.type&&e.enum?(p(),w(V,{key:3,modelValue:ee[t],"onUpdate:modelValue":function(e){return ee[t]=e},placeholder:e.description||"请选择"+t},{default:d(function(){return[(p(!0),s(h,null,g(e.enum,function(e){return p(),w(k,{key:e,label:e,value:e},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):(p(),w(j,{key:4,type:"textarea",modelValue:ee[t],"onUpdate:modelValue":function(e){return ee[t]=e},placeholder:(e.description||t)+" (请输入JSON格式)",autosize:{minRows:2,maxRows:6}},null,8,["modelValue","onUpdate:modelValue","placeholder"])):(p(),w(j,{key:0,modelValue:ee[t],"onUpdate:modelValue":function(e){return ee[t]=e},placeholder:e.description||"请输入"+t},null,8,["modelValue","onUpdate:modelValue","placeholder"]))]}),_:2},1032,["label","prop","rules"])}),128))]}),_:1},8,["model"])):x("",!0),re.value?(p(),s("div",M,[n[5]||(n[5]=m("h4",{class:"mt-0 mb-2.5 text-base"},"API 返回结果:",-1)),"string"==typeof re.value?(p(),s("div",R,[m("pre",z,y(re.value),1)])):"image"===re.value.type&&re.value.content?(p(),s("div",H,[f(ce,{class:"max-w-full max-h-[300px]",src:re.value.content,"preview-src-list":[re.value.content],fit:"contain"},null,8,["src","preview-src-list"])])):"text"===re.value.type&&re.value.content?(p(),s("div",$,[m("pre",K,y(re.value.content),1)])):(p(),s("div",L,[m("pre",Q,y(JSON.stringify(re.value,null,2)),1)]))])):x("",!0)]}),_:1},8,["modelValue","title"])])}}}))}}})}();
