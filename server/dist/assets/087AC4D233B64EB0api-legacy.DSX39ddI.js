/*! 
 Build based on gin-vue-admin 
 Time : 1763897842000 */
!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function l(n,r,a,u){var l=r&&r.prototype instanceof c?r:c,f=Object.create(l.prototype);return o(f,"_invoke",function(n,r,a){var u,o,l,c=0,f=a||[],p=!1,s={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return u=t,o=0,l=e,s.n=n,i}};function d(n,r){for(o=n,l=r,t=0;!p&&c&&!a&&t<f.length;t++){var a,u=f[t],d=s.p,m=u[2];n>3?(a=m===r)&&(l=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=e):u[0]<=d&&((a=n<2&&d<u[1])?(o=0,s.v=r,s.n=u[1]):d<m&&(a=n<3||u[0]>r||r>m)&&(u[4]=n,u[5]=r,s.n=m,o=0))}if(a||n>1)return i;throw p=!0,r}return function(a,f,m){if(c>1)throw TypeError("Generator is already running");for(p&&1===f&&d(f,m),o=f,l=m;(t=o<2?e:l)||!p;){u||(o?o<3?(o>1&&(s.n=-1),d(o,l)):s.n=l:s.v=l);try{if(c=2,u){if(o||(a="next"),t=u[a]){if(!(t=t.call(u,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=u.return)&&t.call(u),o<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),o=1);u=e}else if((t=(p=s.n<0)?l:n.call(r,s))!==i)break}catch(t){u=e,o=1,l=t}finally{c=1}}return{value:t,done:p}}}(n,a,u),!0),f}var i={};function c(){}function f(){}function p(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(o(t={},r,function(){return this}),t),d=p.prototype=c.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return f.prototype=p,o(d,"constructor",p),o(p,"constructor",f),f.displayName="GeneratorFunction",o(p,a,"GeneratorFunction"),o(d),o(d,a,"Generator"),o(d,r,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:l,m:m}})()}function o(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}o=function(e,t,n,r){function u(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(u("next",0),u("throw",1),u("return",2))},o(e,t,n,r)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,u,o,l=[],i=!0,c=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=u.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,a,u,o){try{var l=e[u](o),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var u=e.apply(t,n);function o(e){f(u,r,a,o,l,"next",e)}function l(e){f(u,r,a,o,l,"throw",e)}o(void 0)})}}System.register(["./087AC4D233B64EB0api-legacy.7iaGoq21.js","./087AC4D233B64EB0stringFun-legacy.DkMg4n6s.js","./087AC4D233B64EB0warningBar-legacy.CzsxtKWc.js","./087AC4D233B64EB0exportTemplate-legacy.kP4wRI3k.js","./087AC4D233B64EB0index-legacy.C50Wt4sy.js","./087AC4D233B64EB0autoCode-legacy.CV1S-bm5.js","./087AC4D233B64EB0_plugin-vue_export-helper-legacy.DCWa1RRI.js"],function(e,t){"use strict";var r,o,i,c,f,s,d,m,v,h,y,b,g,w,_,A,k,C,I,x,j,O,P,S,V,G,E,D,B,T,U,z,q,F,N,J;return{setters:[function(e){r=e.g,o=e.a,i=e.b,c=e.d,f=e.c,s=e.i,d=e.e,m=e.u,v=e.f,h=e.h,y=e.s},function(e){b=e.t},function(e){g=e._},function(e){w=e.e,_=e.a},function(e){A=e.g,k=e.i,C=e.o,I=e.w,x=e.h,j=e.E,O=e.l,P=e.f,S=e.q,V=e.P,G=e.a,E=e.ag,D=e.c,B=e.b,T=e.F,U=e.H,z=e.t,q=e.aa,F=e.k},function(e){N=e.b},function(e){J=e._}],execute:function(){var t=document.createElement("style");t.textContent=".warning[data-v-c9caea27]{color:#dc143c}\n/*$vite$:1*/",document.head.appendChild(t);var M={__name:"exportExcel",props:{filterDeleted:{type:Boolean,default:!0},templateId:{type:String,required:!0},condition:{type:Object,default:function(){return{}}},limit:{type:Number,default:0},offset:{type:Number,default:0},order:{type:String,default:""}},setup:function(e){var t=e,n=function(){var e=p(u().m(function e(){var n,r,a,o,i;return u().w(function(e){for(;;)switch(e.n){case 0:if(""!==t.templateId){e.n=1;break}return j.error("组件未设置模板ID"),e.a(2);case 1:return n="http://127.0.0.1:8888",r=JSON.parse(JSON.stringify(t.condition)),t.filterDeleted&&(r.filterDeleted="true"),t.limit&&(r.limit=t.limit),t.offset&&(r.offset=t.offset),t.order&&(r.order=t.order),a=Object.entries(r).map(function(e){var t=l(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join("&"),e.n=2,w({templateID:t.templateId,params:a});case 2:0===(o=e.v).code&&(j.success("创建导出任务成功，开始下载"),i="".concat(n).concat(o.data),window.open(i,"_blank"));case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,t){var r=A("el-button");return C(),k(r,{type:"primary",icon:"download",onClick:n},{default:I(function(){return a(t[0]||(t[0]=[x("导出",-1)]))}),_:1})}}},R={__name:"exportTemplate",props:{templateId:{type:String,required:!0}},setup:function(e){var t=e,n=function(){var e=p(u().m(function e(){var n,r,a;return u().w(function(e){for(;;)switch(e.n){case 0:if(""!==t.templateId){e.n=1;break}return j.error("组件未设置模板ID"),e.a(2);case 1:return n="http://127.0.0.1:8888",e.n=2,_({templateID:t.templateId});case 2:0===(r=e.v).code&&(j.success("创建导出任务成功，开始下载"),a="".concat(n).concat(r.data),window.open(a,"_blank"));case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,t){var r=A("el-button");return C(),k(r,{type:"primary",icon:"download",onClick:n},{default:I(function(){return a(t[0]||(t[0]=[x("下载模板",-1)]))}),_:1})}}},$={__name:"importExcel",props:{templateId:{type:String,required:!0}},emits:["on-success"],setup:function(e,t){var n=t.emit,r=e,u=O().token,o=n,l="".concat("http://127.0.0.1:8888","/sysExportTemplate/importExcel?templateID=").concat(r.templateId),i=function(e){0===e.code?(j.success("导入成功"),o("on-success")):j.error(e.msg)};return function(e,t){var n=A("el-button"),r=A("el-upload");return C(),k(r,{action:l,"show-file-list":!1,"on-success":i,multiple:!1,headers:{"x-token":S(u)}},{default:I(function(){return[P(n,{type:"primary",icon:"upload",class:"ml-3"},{default:I(function(){return a(t[0]||(t[0]=[x(" 导入 ",-1)]))}),_:1})]}),_:1},8,["headers"])}}},H={class:"gva-search-box"},K={class:"gva-table-box"},L={class:"gva-btn-list"},W={class:"gva-pagination"},Q={class:"flex justify-between items-center"},X={class:"flex justify-between items-center"},Y={class:"text-lg"},Z=Object.assign({name:"Api"},{__name:"api",setup:function(e){var t=V(),l=function(e){var t=O.value.filter(function(t){return t.value===e})[0];return t&&"".concat(t.label)},w=G([]),_=G({path:"",apiGroup:"",method:"",description:""}),O=G([{value:"POST",label:"创建",type:"success"},{value:"GET",label:"查看",type:""},{value:"PUT",label:"更新",type:"warning"},{value:"DELETE",label:"删除",type:"danger"}]),J=G(""),Z=G({path:[{required:!0,message:"请输入api路径",trigger:"blur"}],apiGroup:[{required:!0,message:"请输入组名称",trigger:"blur"}],method:[{required:!0,message:"请选择请求方式",trigger:"blur"}],description:[{required:!0,message:"请输入api介绍",trigger:"blur"}]}),ee=G(1),te=G(0),ne=G(10),re=G([]),ae=G({}),ue=G([]),oe=G({}),le=function(){var e=p(u().m(function e(){var t,n;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o();case 1:0===(t=e.v).code&&(n=t.data.groups,ue.value=n.map(function(e){return{label:e,value:e}}),oe.value=t.data.apiGroupMap);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=p(u().m(function e(t,n){var r;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s({path:t.path,method:t.method,flag:n});case 1:if(0!==(r=e.v).code){e.n=3;break}if(j({type:"success",message:r.msg}),!n){e.n=2;break}return Ae.value.newApis=Ae.value.newApis.filter(function(e){return!(e.path===t.path&&e.method===t.method)}),Ae.value.ignoreApis.push(t),e.a(2);case 2:Ae.value.ignoreApis=Ae.value.ignoreApis.filter(function(e){return!(e.path===t.path&&e.method===t.method)}),Ae.value.newApis.push(t);case 3:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=p(u().m(function e(t){return u().w(function(e){for(;;)switch(e.n){case 0:if(t.apiGroup){e.n=1;break}return j({type:"error",message:"请先选择API分组"}),e.a(2);case 1:if(t.description){e.n=2;break}return j({type:"error",message:"请先填写API描述"}),e.a(2);case 2:return e.n=3,f(t);case 3:0===e.v.code&&(j({type:"success",message:"添加成功，请到角色管理页面分配权限",showClose:!0}),Ae.value.newApis=Ae.value.newApis.filter(function(e){return!(e.path===t.path&&e.method===t.method)})),be(),le();case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),fe=function(){ke.value=!1},pe=G(!1),se=function(){var e=p(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.n){case 0:if(!Ae.value.newApis.some(function(e){return!e.apiGroup||!e.description})){e.n=1;break}return j({type:"error",message:"存在API未分组或未填写描述"}),e.a(2);case 1:return pe.value=!0,e.n=2,d(Ae.value);case 2:t=e.v,pe.value=!1,0===t.code&&(j({type:"success",message:t.msg}),ke.value=!1,be());case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),de=function(){ae.value={},be()},me=function(){ee.value=1,be()},ve=function(e){ne.value=e,be()},he=function(e){ee.value=e,be()},ye=function(e){var t=e.prop,n=e.order;t&&("ID"===t&&(t="id"),ae.value.orderKey=b(t),ae.value.desc="descending"===n),be()},be=function(){var e=p(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r(n({page:ee.value,pageSize:ne.value},ae.value));case 1:0===(t=e.v).code&&(re.value=t.data.list,te.value=t.data.total,ee.value=t.data.page,ne.value=t.data.pageSize);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();be(),le();var ge=function(e){w.value=e},we=function(){var e=p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:F.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(p(u().m(function e(){var t,n;return u().w(function(e){for(;;)switch(e.n){case 0:return t=w.value.map(function(e){return e.ID}),e.n=1,v({ids:t});case 1:0===(n=e.v).code&&(j({type:"success",message:n.msg}),re.value.length===t.length&&ee.value>1&&ee.value--,be());case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:F.confirm("确定要刷新缓存吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(p(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,h();case 1:0===(t=e.v).code&&j({type:"success",message:t.msg});case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ae=G({newApis:[],deleteApis:[],ignoreApis:[]}),ke=G(!1),Ce=function(){var e=p(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,y();case 1:0===(t=e.v).code&&(t.data.newApis.forEach(function(e){e.apiGroup=oe.value[e.path.split("/")[1]]}),Ae.value=t.data,ke.value=!0);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ie=G(null),xe=G("新增Api"),je=G(!1),Oe=function(e){switch(e){case"addApi":xe.value="新增Api";break;case"edit":xe.value="编辑Api"}J.value=e,je.value=!0},Pe=function(){Ie.value.resetFields(),_.value={path:"",apiGroup:"",method:"",description:""},je.value=!1},Se=function(){var e=p(u().m(function e(t){var n;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i({id:t.ID});case 1:n=e.v,_.value=n.data.api,Oe("edit");case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:Ie.value.validate(function(){var e=p(u().m(function e(t){var n;return u().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=6;break}n=J.value,e.n="addApi"===n?1:"edit"===n?3:5;break;case 1:return e.n=2,f(_.value);case 2:return 0===e.v.code&&j({type:"success",message:"添加成功",showClose:!0}),be(),le(),Pe(),e.a(3,6);case 3:return e.n=4,m(_.value);case 4:return 0===e.v.code&&j({type:"success",message:"编辑成功",showClose:!0}),be(),Pe(),e.a(3,6);case 5:return j({type:"error",message:"未知操作",showClose:!0}),e.a(3,6);case 6:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=p(u().m(function e(t){return u().w(function(e){for(;;)switch(e.n){case 0:F.confirm("此操作将永久删除所有角色下该api, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,c(t);case 1:0===e.v.code&&(j({type:"success",message:"删除成功!"}),1===re.value.length&&ee.value>1&&ee.value--,be(),le());case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ee=G(!1),De=function(){var e=p(u().m(function e(){var t,n,r;return u().w(function(e){for(;;)switch(e.n){case 0:return Ee.value=!0,t=Ae.value.newApis.filter(function(e){return!e.apiGroup||!e.description}).map(function(e){return e.path}),e.n=1,N({data:t,command:"apiCompletion"});case 1:if(n=e.v,Ee.value=!1,0===n.code)try{r=JSON.parse(n.data),Ae.value.newApis.forEach(function(e){var t=r.find(function(t){return t.path===e.path});t&&(e.apiGroup||(e.apiGroup=t.apiGroup),e.description||(e.description=t.description))})}catch(a){j({type:"error",message:"AI自动填充失败,请重新生成"})}case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){var r=A("el-input"),u=A("el-form-item"),o=A("el-option"),i=A("el-select"),c=A("el-button"),f=A("el-form"),p=A("el-table-column"),s=A("el-table"),d=A("el-pagination"),m=A("ai-gva"),v=A("el-icon"),h=A("el-drawer"),y=E("loading");return C(),D("div",null,[B("div",H,[P(f,{ref:"searchForm",inline:!0,model:ae.value},{default:I(function(){return[P(u,{label:"路径"},{default:I(function(){return[P(r,{modelValue:ae.value.path,"onUpdate:modelValue":n[0]||(n[0]=function(e){return ae.value.path=e}),placeholder:"路径"},null,8,["modelValue"])]}),_:1}),P(u,{label:"描述"},{default:I(function(){return[P(r,{modelValue:ae.value.description,"onUpdate:modelValue":n[1]||(n[1]=function(e){return ae.value.description=e}),placeholder:"描述"},null,8,["modelValue"])]}),_:1}),P(u,{label:"API分组"},{default:I(function(){return[P(i,{modelValue:ae.value.apiGroup,"onUpdate:modelValue":n[2]||(n[2]=function(e){return ae.value.apiGroup=e}),clearable:"",placeholder:"请选择"},{default:I(function(){return[(C(!0),D(T,null,U(ue.value,function(e){return C(),k(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),P(u,{label:"请求"},{default:I(function(){return[P(i,{modelValue:ae.value.method,"onUpdate:modelValue":n[3]||(n[3]=function(e){return ae.value.method=e}),clearable:"",placeholder:"请选择"},{default:I(function(){return[(C(!0),D(T,null,U(O.value,function(e){return C(),k(o,{key:e.value,label:"".concat(e.label,"(").concat(e.value,")"),value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),P(u,null,{default:I(function(){return[P(c,{type:"primary",icon:"search",onClick:me},{default:I(function(){return a(n[11]||(n[11]=[x(" 查询 ",-1)]))}),_:1}),P(c,{icon:"refresh",onClick:de},{default:I(function(){return a(n[12]||(n[12]=[x(" 重置 ",-1)]))}),_:1})]}),_:1})]}),_:1},8,["model"])]),B("div",K,[B("div",L,[P(c,{type:"primary",icon:"plus",onClick:n[4]||(n[4]=function(e){return Oe("addApi")})},{default:I(function(){return a(n[13]||(n[13]=[x(" 新增 ",-1)]))}),_:1}),P(c,{icon:"delete",disabled:!w.value.length,onClick:we},{default:I(function(){return a(n[14]||(n[14]=[x(" 删除 ",-1)]))}),_:1},8,["disabled"]),P(c,{icon:"Refresh",onClick:_e},{default:I(function(){return a(n[15]||(n[15]=[x(" 刷新缓存 ",-1)]))}),_:1}),P(c,{icon:"Compass",onClick:Ce},{default:I(function(){return a(n[16]||(n[16]=[x(" 同步API ",-1)]))}),_:1}),P(R,{"template-id":"api"}),P(M,{"template-id":"api",limit:9999}),P($,{"template-id":"api",onOnSuccess:be})]),P(s,{data:re.value,onSortChange:ye,onSelectionChange:ge},{default:I(function(){return[P(p,{type:"selection",width:"55"}),P(p,{align:"left",label:"id","min-width":"60",prop:"ID",sortable:"custom"}),P(p,{align:"left",label:"API路径","min-width":"150",prop:"path",sortable:"custom"}),P(p,{align:"left",label:"API分组","min-width":"150",prop:"apiGroup",sortable:"custom"}),P(p,{align:"left",label:"API简介","min-width":"150",prop:"description",sortable:"custom"}),P(p,{align:"left",label:"请求","min-width":"150",prop:"method",sortable:"custom"},{default:I(function(e){return[B("div",null,z(e.row.method)+" / "+z(l(e.row.method)),1)]}),_:1}),P(p,{align:"left",fixed:"right",label:"操作","min-width":S(t).operateMinWith},{default:I(function(e){return[P(c,{icon:"edit",type:"primary",link:"",onClick:function(t){return Se(e.row)}},{default:I(function(){return a(n[17]||(n[17]=[x(" 编辑 ",-1)]))}),_:1},8,["onClick"]),P(c,{icon:"delete",type:"primary",link:"",onClick:function(t){return Ge(e.row)}},{default:I(function(){return a(n[18]||(n[18]=[x(" 删除 ",-1)]))}),_:1},8,["onClick"])]}),_:1},8,["min-width"])]}),_:1},8,["data"]),B("div",W,[P(d,{"current-page":ee.value,"page-size":ne.value,"page-sizes":[10,30,50,100],total:te.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:he,onSizeChange:ve},null,8,["current-page","page-size","total"])])]),P(h,{modelValue:ke.value,"onUpdate:modelValue":n[5]||(n[5]=function(e){return ke.value=e}),size:S(t).drawerSize,"before-close":fe,"show-close":!1},{header:I(function(){return[B("div",Q,[n[21]||(n[21]=B("span",{class:"text-lg"},"同步路由",-1)),B("div",null,[P(c,{loading:Ee.value,onClick:fe},{default:I(function(){return a(n[19]||(n[19]=[x(" 取 消 ",-1)]))}),_:1},8,["loading"]),P(c,{type:"primary",loading:pe.value||Ee.value,onClick:se},{default:I(function(){return a(n[20]||(n[20]=[x(" 确 定 ",-1)]))}),_:1},8,["loading"])])])]}),default:I(function(){return[P(g,{title:"同步API，不输入路由分组将不会被自动同步，如果api不需要参与鉴权，可以按忽略按钮进行忽略。"}),B("h4",null,[n[23]||(n[23]=x(" 新增路由 ",-1)),n[24]||(n[24]=B("span",{class:"text-xs text-gray-500 mx-2 font-normal"},"存在于当前路由中，但是不存在于api表",-1)),P(c,{type:"primary",size:"small",onClick:De},{default:I(function(){return[P(v,{size:"18"},{default:I(function(){return[P(m)]}),_:1}),n[22]||(n[22]=x(" 自动填充 ",-1))]}),_:1})]),q((C(),k(s,{"element-loading-text":"小淼正在思考...",data:Ae.value.newApis},{default:I(function(){return[P(p,{align:"left",label:"API路径","min-width":"150",prop:"path"}),P(p,{align:"left",label:"API分组","min-width":"150",prop:"apiGroup"},{default:I(function(e){var t=e.row;return[P(i,{modelValue:t.apiGroup,"onUpdate:modelValue":function(e){return t.apiGroup=e},placeholder:"请选择或新增","allow-create":"",filterable:"","default-first-option":""},{default:I(function(){return[(C(!0),D(T,null,U(ue.value,function(e){return C(),k(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1}),P(p,{align:"left",label:"API简介","min-width":"150",prop:"description"},{default:I(function(e){var t=e.row;return[P(r,{modelValue:t.description,"onUpdate:modelValue":function(e){return t.description=e},autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),P(p,{align:"left",label:"请求","min-width":"150",prop:"method"},{default:I(function(e){return[B("div",null,z(e.row.method)+" / "+z(l(e.row.method)),1)]}),_:1}),P(p,{label:"操作","min-width":"150",fixed:"right"},{default:I(function(e){var t=e.row;return[P(c,{icon:"plus",type:"primary",link:"",onClick:function(e){return ce(t)}},{default:I(function(){return a(n[25]||(n[25]=[x(" 单条新增 ",-1)]))}),_:1},8,["onClick"]),P(c,{icon:"sunrise",type:"primary",link:"",onClick:function(e){return ie(t,!0)}},{default:I(function(){return a(n[26]||(n[26]=[x(" 忽略 ",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["data"])),[[y,pe.value||Ee.value]]),n[28]||(n[28]=B("h4",null,[x(" 已删除路由 "),B("span",{class:"text-xs text-gray-500 ml-2 font-normal"},"已经不存在于当前项目的路由中，确定同步后会自动从apis表删除")],-1)),P(s,{data:Ae.value.deleteApis},{default:I(function(){return[P(p,{align:"left",label:"API路径","min-width":"150",prop:"path"}),P(p,{align:"left",label:"API分组","min-width":"150",prop:"apiGroup"}),P(p,{align:"left",label:"API简介","min-width":"150",prop:"description"}),P(p,{align:"left",label:"请求","min-width":"150",prop:"method"},{default:I(function(e){return[B("div",null,z(e.row.method)+" / "+z(l(e.row.method)),1)]}),_:1})]}),_:1},8,["data"]),n[29]||(n[29]=B("h4",null,[x(" 忽略路由 "),B("span",{class:"text-xs text-gray-500 ml-2 font-normal"},"忽略路由不参与api同步，常见为不需要进行鉴权行为的路由")],-1)),P(s,{data:Ae.value.ignoreApis},{default:I(function(){return[P(p,{align:"left",label:"API路径","min-width":"150",prop:"path"}),P(p,{align:"left",label:"API分组","min-width":"150",prop:"apiGroup"}),P(p,{align:"left",label:"API简介","min-width":"150",prop:"description"}),P(p,{align:"left",label:"请求","min-width":"150",prop:"method"},{default:I(function(e){return[B("div",null,z(e.row.method)+" / "+z(l(e.row.method)),1)]}),_:1}),P(p,{label:"操作","min-width":"150",fixed:"right"},{default:I(function(e){var t=e.row;return[P(c,{icon:"sunny",type:"primary",link:"",onClick:function(e){return ie(t,!1)}},{default:I(function(){return a(n[27]||(n[27]=[x(" 取消忽略 ",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["data"])]}),_:1},8,["modelValue","size"]),P(h,{modelValue:je.value,"onUpdate:modelValue":n[10]||(n[10]=function(e){return je.value=e}),size:S(t).drawerSize,"before-close":Pe,"show-close":!1},{header:I(function(){return[B("div",X,[B("span",Y,z(xe.value),1),B("div",null,[P(c,{onClick:Pe},{default:I(function(){return a(n[30]||(n[30]=[x(" 取 消 ",-1)]))}),_:1}),P(c,{type:"primary",onClick:Ve},{default:I(function(){return a(n[31]||(n[31]=[x(" 确 定 ",-1)]))}),_:1})])])]}),default:I(function(){return[P(g,{title:"新增API，需要在角色管理内配置权限才可使用"}),P(f,{ref_key:"apiForm",ref:Ie,model:_.value,rules:Z.value,"label-width":"80px"},{default:I(function(){return[P(u,{label:"路径",prop:"path"},{default:I(function(){return[P(r,{modelValue:_.value.path,"onUpdate:modelValue":n[6]||(n[6]=function(e){return _.value.path=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),P(u,{label:"请求",prop:"method"},{default:I(function(){return[P(i,{modelValue:_.value.method,"onUpdate:modelValue":n[7]||(n[7]=function(e){return _.value.method=e}),placeholder:"请选择",style:{width:"100%"}},{default:I(function(){return[(C(!0),D(T,null,U(O.value,function(e){return C(),k(o,{key:e.value,label:"".concat(e.label,"(").concat(e.value,")"),value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),P(u,{label:"api分组",prop:"apiGroup"},{default:I(function(){return[P(i,{modelValue:_.value.apiGroup,"onUpdate:modelValue":n[8]||(n[8]=function(e){return _.value.apiGroup=e}),placeholder:"请选择或新增","allow-create":"",filterable:"","default-first-option":""},{default:I(function(){return[(C(!0),D(T,null,U(ue.value,function(e){return C(),k(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),P(u,{label:"api简介",prop:"description"},{default:I(function(){return[P(r,{modelValue:_.value.description,"onUpdate:modelValue":n[9]||(n[9]=function(e){return _.value.description=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model","rules"])]}),_:1},8,["modelValue","size"])])}}});e("default",J(Z,[["__scopeId","data-v-c9caea27"]]))}}})}();
