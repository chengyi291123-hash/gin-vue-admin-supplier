/*! 
 Build based on gin-vue-admin 
 Time : 1764044126000 */
import e from"./087AC4D233B64EB0index.DycW8XTo.js";import{N as a,O as l,aj as n,u as t,ac as i,a as r,D as d,V as s,g as o,c as u,o as c,b as h,f as m,w as f,F as v,K as y,q as p,i as g,d as _,$ as x,a0 as k,h as w,t as b,n as R,ak as B}from"./087AC4D233B64EB0index.CvFrmKQM.js";import"./087AC4D233B64EB0menuItem.hSJWty53.js";import"./087AC4D233B64EB0asyncSubmenu.oThxy-lS.js";const C={class:"flex h-full"},j=Object.assign({name:"SidebarMode"},{__name:"sidebarMode",setup(j){const q=a(),{device:D,config:A}=l(q),I=n(),E=t(),M=i(),O=r(!1),S=r(""),N=r(""),U=r([]),F=d(()=>O.value?A.value.layout_side_collapsed_width:A.value.layout_side_width);B("isCollapse",O);const K=e=>{var a;const l=null==(a=M.asyncRouters[0])?void 0:a.children.find(a=>a.name===e);l&&l.children&&l.children.length>0&&(U.value=l.children)},L=e=>{var a;N.value=e;const l=null==(a=M.asyncRouters[0])?void 0:a.children.find(a=>a.name===e);if(l&&l.children&&l.children.length>0){K(e);const a=l.children.find(e=>!e.hidden);a&&$(a.name)}else $(e)},V=e=>{$(e)},$=e=>{var a,l;const n={},t={};if((null==(a=M.routeMap[e])?void 0:a.parameters)&&(null==(l=M.routeMap[e])||l.parameters.forEach(e=>{"query"===e.type?n[e.key]=e.value:t[e.key]=e.value})),e!==I.name)return e.indexOf("http://")>-1||e.indexOf("https://")>-1?"Iframe"===e?(n.url=decodeURIComponent(e),void E.push({name:"Iframe",query:n,params:t})):void window.open(e,"_blank"):void E.push({name:e,query:n,params:t})},z=()=>{O.value=!O.value};return s(()=>{var e,a,l;if("Iframe"===I.name)return void(S.value=decodeURIComponent(I.query.url));S.value=I.meta.activeName||I.name;const n=(()=>{var e,a;if(null==(e=M.asyncRouters[0])?void 0:e.children.some(e=>!e.hidden&&e.name===I.name))return I.name;for(const l of(null==(a=M.asyncRouters[0])?void 0:a.children)||[]){if(l.hidden)continue;if(l.children&&l.children.some(e=>e.name===I.name))return l.name;const e=a=>{for(const l of a||[]){if(l.name===I.name)return!0;if(l.children&&e(l.children))return!0}return!1};if(l.children&&e(l.children))return l.name}return null})();if(n){N.value=n;const a=null==(e=M.asyncRouters[0])?void 0:e.children.find(e=>e.name===n);if(a&&a.children&&a.children.length>0)K(n);else{const e=M.asyncRouters[0].children.find(e=>!e.hidden&&e.children&&e.children.length>0);e&&K(e.name)}}else if((null==(l=null==(a=M.asyncRouters[0])?void 0:a.children)?void 0:l.length)>0){const e=M.asyncRouters[0].children.find(e=>!e.hidden&&e.children&&e.children.length>0);e&&(N.value=I.name,U.value=e.children)}}),s(()=>{"mobile"===D.value?O.value=!0:O.value=!1}),(a,l)=>{const n=o("el-icon"),t=o("el-menu-item"),i=o("el-menu"),r=o("el-scrollbar"),d=o("DArrowLeft"),s=o("DArrowRight");return c(),u("div",C,[h("div",{class:"relative !h-full bg-white text-slate-700 dark:text-slate-300 dark:bg-slate-900 border-r shadow dark:shadow-gray-700",style:x({width:p(A).layout_side_collapsed_width+"px"})},[m(r,null,{default:f(()=>[m(i,{collapse:!0,"collapse-transition":!1,"default-active":N.value,class:"!border-r-0 w-full","unique-opened":"",onSelect:L},{default:f(()=>{var e;return[(c(!0),u(v,null,y((null==(e=p(M).asyncRouters[0])?void 0:e.children)||[],e=>(c(),u(v,null,[e.hidden||e.children&&0!==e.children.length?e.hidden?_("",!0):(c(),g(t,{key:e.name,index:e.name,class:R([{"is-active":N.value===e.name},"dark:text-slate-300 overflow-hidden"]),style:x({height:p(A).layout_side_item_height+"px"})},{title:f(()=>[w(b(e.meta.title),1)]),default:f(()=>[e.meta.icon?(c(),g(n,{key:0},{default:f(()=>[(c(),g(k(e.meta.icon)))]),_:2},1024)):(c(),u(v,{key:1},[w(b(e.meta.title[0]),1)],64))]),_:2},1032,["index","class","style"])):(c(),g(t,{key:e.name,index:e.name,class:"dark:text-slate-300 overflow-hidden",style:x({height:p(A).layout_side_item_height+"px"})},{title:f(()=>[w(b(e.meta.title),1)]),default:f(()=>[e.meta.icon?(c(),g(n,{key:0},{default:f(()=>[(c(),g(k(e.meta.icon)))]),_:2},1024)):(c(),u(v,{key:1},[w(b(e.meta.title[0]),1)],64))]),_:2},1032,["index","style"]))],64))),256))]}),_:1},8,["default-active"])]),_:1})],4),h("div",{class:"relative h-full bg-white text-slate-700 dark:text-slate-300 dark:bg-slate-900 border-r shadow dark:shadow-gray-700 px-2",style:x({width:F.value+"px"})},[m(r,null,{default:f(()=>[m(i,{collapse:O.value,"collapse-transition":!1,"default-active":S.value,class:"!border-r-0 w-full","unique-opened":"",onSelect:V},{default:f(()=>[(c(!0),u(v,null,y(U.value,a=>(c(),u(v,null,[a.hidden?_("",!0):(c(),g(e,{key:a.name,"router-info":a},null,8,["router-info"]))],64))),256))]),_:1},8,["collapse","default-active"])]),_:1}),h("div",{class:R(["absolute bottom-8 right-2 w-8 h-8 bg-gray-50 dark:bg-slate-800 flex items-center justify-center rounded cursor-pointer",O.value?"right-0 left-0 mx-auto":"right-2"]),onClick:z},[O.value?(c(),g(n,{key:1},{default:f(()=>[m(s)]),_:1})):(c(),g(n,{key:0},{default:f(()=>[m(d)]),_:1}))],2)],4)])}}});export{j as default};
