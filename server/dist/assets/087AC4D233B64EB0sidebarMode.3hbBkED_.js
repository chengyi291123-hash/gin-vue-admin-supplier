/*! 
 Build based on gin-vue-admin 
 Time : 1763897842000 */
import e from"./087AC4D233B64EB0index.DmTmApy8.js";import{P as a,Q as l,al as n,u as t,ae as i,a as r,D as d,X as s,g as o,c as u,o as c,b as h,f as m,w as f,F as v,H as y,q as p,i as g,d as _,a1 as x,a2 as k,h as w,t as b,n as R,am as B}from"./087AC4D233B64EB0index.0P5tyZxh.js";import"./087AC4D233B64EB0menuItem.DuMelf0d.js";import"./087AC4D233B64EB0asyncSubmenu.B4oEOeUY.js";const C={class:"flex h-full"},q=Object.assign({name:"SidebarMode"},{__name:"sidebarMode",setup(q){const D=a(),{device:j,config:A}=l(D),I=n(),E=t(),M=i(),S=r(!1),O=r(""),U=r(""),F=r([]),H=d(()=>S.value?A.value.layout_side_collapsed_width:A.value.layout_side_width);B("isCollapse",S);const L=e=>{var a;const l=null==(a=M.asyncRouters[0])?void 0:a.children.find(a=>a.name===e);l&&l.children&&l.children.length>0&&(F.value=l.children)},N=e=>{var a;U.value=e;const l=null==(a=M.asyncRouters[0])?void 0:a.children.find(a=>a.name===e);if(l&&l.children&&l.children.length>0){L(e);const a=l.children.find(e=>!e.hidden);a&&Q(a.name)}else Q(e)},P=e=>{Q(e)},Q=e=>{var a,l;const n={},t={};if((null==(a=M.routeMap[e])?void 0:a.parameters)&&(null==(l=M.routeMap[e])||l.parameters.forEach(e=>{"query"===e.type?n[e.key]=e.value:t[e.key]=e.value})),e!==I.name)return e.indexOf("http://")>-1||e.indexOf("https://")>-1?"Iframe"===e?(n.url=decodeURIComponent(e),void E.push({name:"Iframe",query:n,params:t})):void window.open(e,"_blank"):void E.push({name:e,query:n,params:t})},X=()=>{S.value=!S.value};return s(()=>{var e,a,l;if("Iframe"===I.name)return void(O.value=decodeURIComponent(I.query.url));O.value=I.meta.activeName||I.name;const n=(()=>{var e,a;if(null==(e=M.asyncRouters[0])?void 0:e.children.some(e=>!e.hidden&&e.name===I.name))return I.name;for(const l of(null==(a=M.asyncRouters[0])?void 0:a.children)||[]){if(l.hidden)continue;if(l.children&&l.children.some(e=>e.name===I.name))return l.name;const e=a=>{for(const l of a||[]){if(l.name===I.name)return!0;if(l.children&&e(l.children))return!0}return!1};if(l.children&&e(l.children))return l.name}return null})();if(n){U.value=n;const a=null==(e=M.asyncRouters[0])?void 0:e.children.find(e=>e.name===n);if(a&&a.children&&a.children.length>0)L(n);else{const e=M.asyncRouters[0].children.find(e=>!e.hidden&&e.children&&e.children.length>0);e&&L(e.name)}}else if((null==(l=null==(a=M.asyncRouters[0])?void 0:a.children)?void 0:l.length)>0){const e=M.asyncRouters[0].children.find(e=>!e.hidden&&e.children&&e.children.length>0);e&&(U.value=I.name,F.value=e.children)}}),s(()=>{"mobile"===j.value?S.value=!0:S.value=!1}),(a,l)=>{const n=o("el-icon"),t=o("el-menu-item"),i=o("el-menu"),r=o("el-scrollbar"),d=o("DArrowLeft"),s=o("DArrowRight");return c(),u("div",C,[h("div",{class:"relative !h-full bg-white text-slate-700 dark:text-slate-300 dark:bg-slate-900 border-r shadow dark:shadow-gray-700",style:x({width:p(A).layout_side_collapsed_width+"px"})},[m(r,null,{default:f(()=>[m(i,{collapse:!0,"collapse-transition":!1,"default-active":U.value,class:"!border-r-0 w-full","unique-opened":"",onSelect:N},{default:f(()=>{var e;return[(c(!0),u(v,null,y((null==(e=p(M).asyncRouters[0])?void 0:e.children)||[],e=>(c(),u(v,null,[e.hidden||e.children&&0!==e.children.length?e.hidden?_("",!0):(c(),g(t,{key:e.name,index:e.name,class:R([{"is-active":U.value===e.name},"dark:text-slate-300 overflow-hidden"]),style:x({height:p(A).layout_side_item_height+"px"})},{title:f(()=>[w(b(e.meta.title),1)]),default:f(()=>[e.meta.icon?(c(),g(n,{key:0},{default:f(()=>[(c(),g(k(e.meta.icon)))]),_:2},1024)):(c(),u(v,{key:1},[w(b(e.meta.title[0]),1)],64))]),_:2},1032,["index","class","style"])):(c(),g(t,{key:e.name,index:e.name,class:"dark:text-slate-300 overflow-hidden",style:x({height:p(A).layout_side_item_height+"px"})},{title:f(()=>[w(b(e.meta.title),1)]),default:f(()=>[e.meta.icon?(c(),g(n,{key:0},{default:f(()=>[(c(),g(k(e.meta.icon)))]),_:2},1024)):(c(),u(v,{key:1},[w(b(e.meta.title[0]),1)],64))]),_:2},1032,["index","style"]))],64))),256))]}),_:1},8,["default-active"])]),_:1})],4),h("div",{class:"relative h-full bg-white text-slate-700 dark:text-slate-300 dark:bg-slate-900 border-r shadow dark:shadow-gray-700 px-2",style:x({width:H.value+"px"})},[m(r,null,{default:f(()=>[m(i,{collapse:S.value,"collapse-transition":!1,"default-active":O.value,class:"!border-r-0 w-full","unique-opened":"",onSelect:P},{default:f(()=>[(c(!0),u(v,null,y(F.value,a=>(c(),u(v,null,[a.hidden?_("",!0):(c(),g(e,{key:a.name,"router-info":a},null,8,["router-info"]))],64))),256))]),_:1},8,["collapse","default-active"])]),_:1}),h("div",{class:R(["absolute bottom-8 right-2 w-8 h-8 bg-gray-50 dark:bg-slate-800 flex items-center justify-center rounded cursor-pointer",S.value?"right-0 left-0 mx-auto":"right-2"]),onClick:X},[S.value?(c(),g(n,{key:1},{default:f(()=>[m(s)]),_:1})):(c(),g(n,{key:0},{default:f(()=>[m(d)]),_:1}))],2)],4)])}}});export{q as default};
