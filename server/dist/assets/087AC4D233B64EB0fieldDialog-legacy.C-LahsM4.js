/*! 
 Build based on gin-vue-admin 
 Time : 1764067928000 */
!function(){function e(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,a){if(e){if("string"==typeof e)return l(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,a):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,l){(null==l||l>e.length)&&(l=e.length);for(var a=0,t=Array(l);a<l;a++)t[a]=e[a];return t}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,l,n="function"==typeof Symbol?Symbol:{},u=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(a,n,u,r){var o=n&&n.prototype instanceof d?n:d,c=Object.create(o.prototype);return t(c,"_invoke",function(a,t,n){var u,r,o,d=0,c=n||[],f=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(l,a){return u=l,r=0,o=e,m.n=a,i}};function p(a,t){for(r=a,o=t,l=0;!f&&d&&!n&&l<c.length;l++){var n,u=c[l],p=m.p,s=u[2];a>3?(n=s===t)&&(o=u[(r=u[4])?5:(r=3,3)],u[4]=u[5]=e):u[0]<=p&&((n=a<2&&p<u[1])?(r=0,m.v=t,m.n=u[1]):p<s&&(n=a<3||u[0]>t||t>s)&&(u[4]=a,u[5]=t,m.n=s,r=0))}if(n||a>1)return i;throw f=!0,t}return function(n,c,s){if(d>1)throw TypeError("Generator is already running");for(f&&1===c&&p(c,s),r=c,o=s;(l=r<2?e:o)||!f;){u||(r?r<3?(r>1&&(m.n=-1),p(r,o)):m.n=o:m.v=o);try{if(d=2,u){if(r||(n="next"),l=u[n]){if(!(l=l.call(u,o)))throw TypeError("iterator result is not an object");if(!l.done)return l;o=l.value,r<2&&(r=0)}else 1===r&&(l=u.return)&&l.call(u),r<2&&(o=TypeError("The iterator does not provide a '"+n+"' method"),r=1);u=e}else if((l=(f=m.n<0)?o:a.call(t,m))!==i)break}catch(l){u=e,r=1,o=l}finally{d=1}}return{value:l,done:f}}}(a,u,r),!0),c}var i={};function d(){}function c(){}function f(){}l=Object.getPrototypeOf;var m=[][u]?l(l([][u]())):(t(l={},u,function(){return this}),l),p=f.prototype=d.prototype=Object.create(m);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,t(e,r,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=f,t(p,"constructor",f),t(f,"constructor",c),c.displayName="GeneratorFunction",t(f,r,"GeneratorFunction"),t(p),t(p,r,"Generator"),t(p,u,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:o,m:s}})()}function t(e,l,a,n){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}t=function(e,l,a,n){function r(l,a){t(e,l,function(e){return this._invoke(l,a,e)})}l?u?u(e,l,{value:a,enumerable:!n,configurable:!n,writable:!n}):e[l]=a:(r("next",0),r("throw",1),r("return",2))},t(e,l,a,n)}function n(e,l,a,t,n,u,r){try{var o=e[u](r),i=o.value}catch(e){return void a(e)}o.done?l(i):Promise.resolve(i).then(t,n)}function u(e){return function(){var l=this,a=arguments;return new Promise(function(t,u){var r=e.apply(l,a);function o(e){n(r,t,u,o,i,"next",e)}function i(e){n(r,t,u,o,i,"throw",e)}o(void 0)})}}System.register(["./087AC4D233B64EB0stringFun-legacy.DkMg4n6s.js","./087AC4D233B64EB0sysDictionary-legacy.CEsRzhFi.js","./087AC4D233B64EB0warningBar-legacy.RybzVJ0l.js","./087AC4D233B64EB0autoCode-legacy.CQELNNRJ.js","./087AC4D233B64EB0index-legacy.X7fFuucl.js"],function(l,t){"use strict";var n,r,o,i,d,c,f,m,p,s,v,y,b,V,g,h,_,S,T,N,w,x;return{setters:[function(e){n=e.a,r=e.t},function(e){o=e.g},function(e){i=e._},function(e){d=e.g,c=e.a,f=e.c},function(e){m=e.a,p=e.v,s=e.g,v=e.c,y=e.o,b=e.f,V=e.w,g=e.b,h=e.F,_=e.K,S=e.i,T=e.t,N=e.h,w=e.d,x=e.k}],execute:function(){var t={style:{float:"right",color:"#8492a6","font-size":"13px"}},U={style:{"font-weight":"bold"}},j={style:{float:"left"}},O={style:{float:"right","margin-left":"5px",color:"var(--el-text-color-secondary)","font-size":"13px"}},E={style:{"font-weight":"bold"}},k={style:{float:"left"}},A={style:{float:"right","margin-left":"5px",color:"var(--el-text-color-secondary)","font-size":"13px"}},D={key:0};l("default",Object.assign({name:"FieldDialog"},{__name:"fieldDialog",props:{dialogMiddle:{type:Object,default:function(){return{}}},typeOptions:{type:Array,default:function(){return[]}},typeSearchOptions:{type:Array,default:function(){return[]}},typeIndexOptions:{type:Array,default:function(){return[]}}},setup:function(l,B){var C=B.expose,I=l,P=m([]),F=m({}),G=m([]),J=m([]),L=function(){var e=u(a().m(function e(){var l;return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,d();case 1:0===(l=e.v).code&&(J.value=l.data.dbList);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),q=m({fieldName:[{required:!0,message:"请输入字段英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入字段格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择字段类型",trigger:"blur"}],dataTypeLong:[{validator:function(e,l,a){"enum"!=F.value.fieldType||/^('([^']*)'(?:,'([^']+)'*)*)$/.test(l)?a():a(new Error("枚举值校验错误"))},trigger:"blur"}]}),K=function(){var e=u(a().m(function e(){var l;return a().w(function(e){for(;;)switch(e.n){case 0:return F.value=I.dialogMiddle,e.n=1,o({page:1,pageSize:999999});case 1:l=e.v,G.value=l.data;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();K();var z=function(){F.value.fieldJson=n(F.value.fieldName),F.value.columnName=r(F.value.fieldJson)},M=function(e){var l=F.value.fieldType;if("richtext"===l)return"LIKE"!==e;if("string"!==l&&"LIKE"===e)return!0;return!(["int","time.Time","float64"].includes(l)||!["BETWEEN","NOT BETWEEN"].includes(e))},H=function(){F.value.fieldSearchType="",F.value.dictType=""},W=function(e){2===e&&x.confirm("一对多关联模式下，数据类型会改变为数组，后端表现为json，具体表现为数组模式，是否继续？","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){F.value.fieldType="array"}).catch(function(){F.value.dataSource.association=1})},$=function(){F.value.dataSource.value="",F.value.dataSource.label=""},Q=function(){X(),F.value.dataSource.table="",$()},R=m([]),X=function(){var e=u(a().m(function e(){var l,t;return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,f({businessDB:F.value.dataSource.dbName});case 1:0===(l=e.v).code&&(t=l.data.tables,R.value=t.map(function(e){return{tableName:e.tableName,value:e.tableName}})),$();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Y=m([]),Z=function(){var e=u(a().m(function e(l,t){var n,u;return a().w(function(e){for(;;)switch(e.n){case 0:return F.value.dataSource.hasDeletedAt=!1,F.value.dataSource.table=l,e.n=1,c({businessDB:F.value.dataSource.dbName,tableName:l});case 1:0===(n=e.v).code&&(u=n.data.columns,Y.value=u.map(function(e){return"deleted_at"===e.columnName&&(F.value.dataSource.hasDeletedAt=!0),{columnName:e.columnName,value:e.columnName,type:e.dataType,isPrimary:e.primaryKey,comment:e.columnComment}}),Y.value.length>0&&!t&&(F.value.dataSource.label=Y.value[0].columnName,F.value.dataSource.value=Y.value[0].columnName));case 2:return e.a(2)}},e)}));return function(l,a){return e.apply(this,arguments)}}(),ee=m(null);return C({fieldDialogForm:ee}),p(function(){L(),F.value.dataSource.table&&Z(F.value.dataSource.table,!0)}),function(a,n){var u=s("el-input"),r=s("el-button"),o=s("el-form-item"),d=s("el-option"),c=s("el-select"),f=s("el-checkbox"),m=s("el-switch"),p=s("el-form"),x=s("el-col"),B=s("el-tag"),C=s("block"),I=s("el-row"),L=s("el-collapse-item"),K=s("el-collapse");return y(),v("div",null,[b(i,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),b(p,{ref_key:"fieldDialogForm",ref:ee,model:F.value,"label-width":"120px","label-position":"right",rules:q.value,class:"grid grid-cols-2"},{default:V(function(){return[b(o,{label:"字段名称",prop:"fieldName"},{default:V(function(){return[b(u,{modelValue:F.value.fieldName,"onUpdate:modelValue":n[0]||(n[0]=function(e){return F.value.fieldName=e}),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),b(r,{style:{width:"18%","margin-left":"2%"},onClick:z},{default:V(function(){return e(n[27]||(n[27]=[g("span",{style:{"font-size":"12px"}},"自动填充",-1)]))}),_:1})]}),_:1}),b(o,{label:"字段中文名",prop:"fieldDesc"},{default:V(function(){return[b(u,{modelValue:F.value.fieldDesc,"onUpdate:modelValue":n[1]||(n[1]=function(e){return F.value.fieldDesc=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),b(o,{label:"字段JSON",prop:"fieldJson"},{default:V(function(){return[b(u,{modelValue:F.value.fieldJson,"onUpdate:modelValue":n[2]||(n[2]=function(e){return F.value.fieldJson=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),b(o,{label:"数据库字段名",prop:"columnName"},{default:V(function(){return[b(u,{modelValue:F.value.columnName,"onUpdate:modelValue":n[3]||(n[3]=function(e){return F.value.columnName=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),b(o,{label:"数据库字段描述",prop:"comment"},{default:V(function(){return[b(u,{modelValue:F.value.comment,"onUpdate:modelValue":n[4]||(n[4]=function(e){return F.value.comment=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),b(o,{label:"字段类型",prop:"fieldType"},{default:V(function(){return[b(c,{modelValue:F.value.fieldType,"onUpdate:modelValue":n[5]||(n[5]=function(e){return F.value.fieldType=e}),style:{width:"100%"},placeholder:"请选择字段类型",clearable:"",onChange:H},{default:V(function(){return[(y(!0),v(h,null,_(l.typeOptions,function(e){return y(),S(d,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),b(o,{label:"enum"===F.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:V(function(){return[b(u,{modelValue:F.value.dataTypeLong,"onUpdate:modelValue":n[6]||(n[6]=function(e){return F.value.dataTypeLong=e}),placeholder:"enum"===F.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])]}),_:1},8,["label"]),b(o,{label:"字段查询条件",prop:"fieldSearchType"},{default:V(function(){return[b(c,{modelValue:F.value.fieldSearchType,"onUpdate:modelValue":n[7]||(n[7]=function(e){return F.value.fieldSearchType=e}),disabled:"json"===F.value.fieldType,style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:""},{default:V(function(){return[(y(!0),v(h,null,_(l.typeSearchOptions,function(e){return y(),S(d,{key:e.value,label:e.label,value:e.value,disabled:M(e.value)},null,8,["label","value","disabled"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1}),b(o,{label:"关联字典",prop:"dictType"},{default:V(function(){return[b(c,{modelValue:F.value.dictType,"onUpdate:modelValue":n[8]||(n[8]=function(e){return F.value.dictType=e}),style:{width:"100%"},disabled:"string"!==F.value.fieldType&&"array"!==F.value.fieldType,placeholder:"请选择字典",clearable:""},{default:V(function(){return[(y(!0),v(h,null,_(G.value,function(e){return y(),S(d,{key:e.type,label:"".concat(e.type,"(").concat(e.name,")"),value:e.type},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1}),b(o,{label:"默认值"},{default:V(function(){return[b(u,{modelValue:F.value.defaultValue,"onUpdate:modelValue":n[9]||(n[9]=function(e){return F.value.defaultValue=e}),placeholder:"请输入默认值"},null,8,["modelValue"])]}),_:1}),b(o,{label:"主键"},{default:V(function(){return[b(f,{modelValue:F.value.primaryKey,"onUpdate:modelValue":n[10]||(n[10]=function(e){return F.value.primaryKey=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"索引类型",prop:"fieldIndexType"},{default:V(function(){return[b(c,{modelValue:F.value.fieldIndexType,"onUpdate:modelValue":n[11]||(n[11]=function(e){return F.value.fieldIndexType=e}),disabled:"json"===F.value.fieldType,style:{width:"100%"},placeholder:"请选择字段索引类型",clearable:""},{default:V(function(){return[(y(!0),v(h,null,_(l.typeIndexOptions,function(e){return y(),S(d,{key:e.value,label:e.label,value:e.value,disabled:M(e.value)},null,8,["label","value","disabled"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1}),b(o,{label:"前端新建/编辑"},{default:V(function(){return[b(m,{modelValue:F.value.form,"onUpdate:modelValue":n[12]||(n[12]=function(e){return F.value.form=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"前端表格列"},{default:V(function(){return[b(m,{modelValue:F.value.table,"onUpdate:modelValue":n[13]||(n[13]=function(e){return F.value.table=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"前端详情"},{default:V(function(){return[b(m,{modelValue:F.value.desc,"onUpdate:modelValue":n[14]||(n[14]=function(e){return F.value.desc=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"导入/导出"},{default:V(function(){return[b(m,{modelValue:F.value.excel,"onUpdate:modelValue":n[15]||(n[15]=function(e){return F.value.excel=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"是否排序"},{default:V(function(){return[b(m,{modelValue:F.value.sort,"onUpdate:modelValue":n[16]||(n[16]=function(e){return F.value.sort=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"是否必填"},{default:V(function(){return[b(m,{modelValue:F.value.require,"onUpdate:modelValue":n[17]||(n[17]=function(e){return F.value.require=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"是否可清空"},{default:V(function(){return[b(m,{modelValue:F.value.clearable,"onUpdate:modelValue":n[18]||(n[18]=function(e){return F.value.clearable=e})},null,8,["modelValue"])]}),_:1}),b(o,{label:"隐藏查询条件"},{default:V(function(){return[b(m,{modelValue:F.value.fieldSearchHide,"onUpdate:modelValue":n[19]||(n[19]=function(e){return F.value.fieldSearchHide=e}),disabled:!F.value.fieldSearchType},null,8,["modelValue","disabled"])]}),_:1}),b(o,{label:"校验失败文案"},{default:V(function(){return[b(u,{modelValue:F.value.errorText,"onUpdate:modelValue":n[20]||(n[20]=function(e){return F.value.errorText=e})},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model","rules"]),b(K,{modelValue:P.value,"onUpdate:modelValue":n[26]||(n[26]=function(e){return P.value=e})},{default:V(function(){return[b(L,{title:"数据源配置（此配置为高级配置，如编程基础不牢，可能导致自动化代码不可用）",name:"1"},{default:V(function(){return[b(I,{gutter:8},{default:V(function(){return[b(x,{span:4},{default:V(function(){return[b(c,{modelValue:F.value.dataSource.dbName,"onUpdate:modelValue":n[21]||(n[21]=function(e){return F.value.dataSource.dbName=e}),placeholder:"数据库【不填则为GVA库】",onChange:Q,clearable:""},{default:V(function(){return[(y(!0),v(h,null,_(J.value,function(e){return y(),S(d,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:V(function(){return[g("div",null,[g("span",null,T(e.aliasName),1),g("span",t,T(e.dbName),1)])]}),_:2},1032,["value","label","disabled"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),b(x,{span:4},{default:V(function(){return[b(c,{modelValue:F.value.dataSource.association,"onUpdate:modelValue":n[22]||(n[22]=function(e){return F.value.dataSource.association=e}),placeholder:"关联模式",onChange:W},{default:V(function(){return[b(d,{label:"一对一",value:1}),b(d,{label:"一对多",value:2})]}),_:1},8,["modelValue"])]}),_:1}),b(x,{span:5},{default:V(function(){return[b(c,{modelValue:F.value.dataSource.table,"onUpdate:modelValue":n[23]||(n[23]=function(e){return F.value.dataSource.table=e}),placeholder:"请选择数据源表",filterable:"","allow-create":"",clearable:"",onFocus:X,onChange:Z,onClear:$},{default:V(function(){return[(y(!0),v(h,null,_(R.value,function(e){return y(),S(d,{key:e.tableName,label:e.tableName,value:e.tableName},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),b(x,{span:5},{default:V(function(){return[b(c,{modelValue:F.value.dataSource.value,"onUpdate:modelValue":n[24]||(n[24]=function(e){return F.value.dataSource.value=e}),placeholder:"请先选择需要存储的数据"},{label:V(function(e){var l=e.value;return[n[28]||(n[28]=g("span",null,"存储: ",-1)),g("span",U,T(l),1)]}),default:V(function(){return[(y(!0),v(h,null,_(Y.value,function(e){return y(),S(d,{key:e.columnName,value:e.columnName},{default:V(function(){return[g("span",j,[b(B,{type:e.isPrimary?"primary":"info"},{default:V(function(){return[N(T(e.isPrimary?"主 键":"非主键"),1)]}),_:2},1032,["type"]),N(" "+T(e.columnName),1)]),g("span",O,[N(" 类型："+T(e.type)+" ",1),""!=e.comment?(y(),S(C,{key:0},{default:V(function(){return[N("，字段说明："+T(e.comment),1)]}),_:2},1024)):w("",!0)])]}),_:2},1032,["value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),b(x,{span:5},{default:V(function(){return[b(c,{modelValue:F.value.dataSource.label,"onUpdate:modelValue":n[25]||(n[25]=function(e){return F.value.dataSource.label=e}),placeholder:"请先选择需要展示的数据"},{label:V(function(e){var l=e.value;return[n[29]||(n[29]=g("span",null,"展示: ",-1)),g("span",E,T(l),1)]}),default:V(function(){return[(y(!0),v(h,null,_(Y.value,function(e){return y(),S(d,{key:e.columnName,value:e.columnName},{default:V(function(){return[g("span",k,[b(B,{type:e.isPrimary?"primary":"info"},{default:V(function(){return[N(T(e.isPrimary?"主 键":"非主键"),1)]}),_:2},1032,["type"]),N(" "+T(e.columnName),1)]),g("span",A,[N(" 类型："+T(e.type)+" ",1),""!=e.comment?(y(),v("span",D,"，字段说明："+T(e.comment),1)):w("",!0)])]}),_:2},1032,["value"])}),128))]}),_:1},8,["modelValue"])]}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])])}}}))}}})}();
